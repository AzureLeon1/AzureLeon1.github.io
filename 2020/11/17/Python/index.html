<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  <title>Python | Liang Wang&#39;s Blog</title>
  <meta name="keywords" content="">
  <meta name="description" content="Python | Liang Wang&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Liang Wang    教育经历：    本科： 2017-2021 同济大学软件学院 软件工程  硕士： 2021-2024 中国科学院自动化研究所智能感知与计算研究中心 数据挖掘      实习经历：    2020年7月-2020年12月 字节跳动 Data广告部门 算法实习生  2021年9月-Now       美团     NLP中心     算法实习生      兴趣">
<meta property="og:type" content="website">
<meta property="og:title" content="About Me">
<meta property="og:url" content="https://azureleon1.github.io/about/index.html">
<meta property="og:site_name" content="Liang Wang&#39;s Blog">
<meta property="og:description" content="Liang Wang    教育经历：    本科： 2017-2021 同济大学软件学院 软件工程  硕士： 2021-2024 中国科学院自动化研究所智能感知与计算研究中心 数据挖掘      实习经历：    2020年7月-2020年12月 字节跳动 Data广告部门 算法实习生  2021年9月-Now       美团     NLP中心     算法实习生      兴趣">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2022-04-02T06:00:56.119Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="About Me">
<meta name="twitter:description" content="Liang Wang    教育经历：    本科： 2017-2021 同济大学软件学院 软件工程  硕士： 2021-2024 中国科学院自动化研究所智能感知与计算研究中心 数据挖掘      实习经历：    2020年7月-2020年12月 字节跳动 Data广告部门 算法实习生  2021年9月-Now       美团     NLP中心     算法实习生      兴趣">


<link rel="icon" href="/images/avatar.jpeg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/github.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css" rel="stylesheet">
<link href="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0"></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.1.0"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true">
  <input id="theme_highlight_on" value="true">
  <input id="theme_code_copy" value="true">
</div>



<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/images/avatar.jpeg" />
</a>
<div class="author">
    <span>Liang Wang</span>
</div>

<div class="icon">
    
        
        <a title="github" href="https://github.com/AzureLeon1" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
        <a title="linkedin" href="https://www.linkedin.com/in/%E4%BA%AE-%E7%8E%8B-a1baab193/" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-linkedin"></use>
                </svg>
            
        </a>
        
    
        
        <a title="zhihu" href="https://www.zhihu.com/people/wang-liang-62-42" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-zhihu"></use>
                </svg>
            
        </a>
        
    
        
        <a title="email" href="mailto:wangliang.leon20@gmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active" data-rel="All">All<small>(38)</small></div></li>
    
        
            
            <li><div data-rel="机器学习"><i class="fold iconfont icon-right"></i>机器学习<small>(24)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="机器学习<--->Vanilla">Vanilla<small>(7)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="机器学习<--->Graph">Graph<small>(5)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="机器学习<--->推荐广告搜索">推荐广告搜索<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="机器学习<--->自然语言处理">自然语言处理<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="机器学习<--->计算机视觉">计算机视觉<small>(8)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="机器学习<--->异常检测">异常检测<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="数学">数学<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Cpp">Cpp<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Python">Python<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="算法与数据结构">算法与数据结构<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="工具"><i class="fold iconfont icon-right"></i>工具<small>(3)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="工具<--->序列化">序列化<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->Git">Git<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->Vim">Vim<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="其他">其他<small>(3)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  site_url"  href="/about">About</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="38">
<input type="hidden" id="yelog_site_word_count" value="79.2k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>保研</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>单调栈</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分割</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分支</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>概率论与数理统计</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>感知机</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>过拟合</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>机器学习</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>计算机视觉</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>朴素贝叶斯</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>奇异值</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>奇异值分解</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>欠拟合</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>深度学习</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>实习</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数学</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>双指针</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>损失函数</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>统计学习方法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>图结构学习</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>图像分割</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>推荐</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>吴恩达</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>线性代数</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>虚函数</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>异常检测</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>字节</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Algorithm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Attention</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CF</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Cross Validation</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GAN</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GitHub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Graph</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Graph Embedding</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>LeetCode</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Message Passing</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Protocol Buffer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Relation Inference</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>solutions</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>U-Net</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vim</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Word2Vec</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="All 机器学习 自然语言处理 "
           href="/2021/08/18/Word2Vec/"
           data-tag="Word2Vec"
           data-author="" >
            <span class="post-title" title="Word2Vec">Word2Vec</span>
            <span class="post-date" title="2021-08-18 20:36:23">2021/08/18</span>
        </a>
        
        <a  class="All 工具 Vim "
           href="/2021/04/19/Vim-Cheat-Sheet/"
           data-tag="Vim"
           data-author="" >
            <span class="post-title" title="Vim Cheat Sheet">Vim Cheat Sheet</span>
            <span class="post-date" title="2021-04-19 11:25:38">2021/04/19</span>
        </a>
        
        <a  class="All 其他 "
           href="/2021/01/03/字节跳动实习记录/"
           data-tag="实习,字节"
           data-author="" >
            <span class="post-title" title="字节跳动实习记录">字节跳动实习记录</span>
            <span class="post-date" title="2021-01-03 23:57:00">2021/01/03</span>
        </a>
        
        <a  class="All 其他 "
           href="/2021/01/03/保研经历记录/"
           data-tag="保研"
           data-author="" >
            <span class="post-title" title="保研经历记录">保研经历记录</span>
            <span class="post-date" title="2021-01-03 23:56:31">2021/01/03</span>
        </a>
        
        <a  class="All 机器学习 Vanilla "
           href="/2020/12/25/注意力机制/"
           data-tag="Attention"
           data-author="" >
            <span class="post-title" title="注意力机制">注意力机制</span>
            <span class="post-date" title="2020-12-25 15:00:21">2020/12/25</span>
        </a>
        
        <a  class="All 机器学习 Graph "
           href="/2020/12/25/Message-Passing/"
           data-tag="Graph Embedding,Message Passing"
           data-author="" >
            <span class="post-title" title="Message Passing">Message Passing</span>
            <span class="post-date" title="2020-12-25 14:59:14">2020/12/25</span>
        </a>
        
        <a  class="All 机器学习 Graph "
           href="/2020/12/11/图结构学习/"
           data-tag="图结构学习"
           data-author="" >
            <span class="post-title" title="图结构学习">图结构学习</span>
            <span class="post-date" title="2020-12-11 14:59:56">2020/12/11</span>
        </a>
        
        <a  class="All 机器学习 推荐广告搜索 "
           href="/2020/12/04/Recommender-System-模型梳理/"
           data-tag="推荐"
           data-author="" >
            <span class="post-title" title="Recommender System 模型梳理">Recommender System 模型梳理</span>
            <span class="post-date" title="2020-12-04 14:59:35">2020/12/04</span>
        </a>
        
        <a  class="All 机器学习 Graph "
           href="/2020/11/27/Graph-Embedding-深层模型-GNNs系列/"
           data-tag="Graph Embedding"
           data-author="" >
            <span class="post-title" title="Graph Embedding 深层模型(GNNs系列)">Graph Embedding 深层模型(GNNs系列)</span>
            <span class="post-date" title="2020-11-27 14:58:56">2020/11/27</span>
        </a>
        
        <a  class="All 机器学习 推荐广告搜索 "
           href="/2020/11/23/Neural-Graph-Collaborative-Filtering/"
           data-tag="机器学习,Graph,推荐,CF"
           data-author="" >
            <span class="post-title" title="Neural Graph Collaborative Filtering">Neural Graph Collaborative Filtering</span>
            <span class="post-date" title="2020-11-23 21:31:09">2020/11/23</span>
        </a>
        
        <a  class="All 工具 序列化 "
           href="/2020/11/23/ProtoBuf编译生成Go代码/"
           data-tag="Protocol Buffer"
           data-author="" >
            <span class="post-title" title="ProtoBuf编译生成Go代码">ProtoBuf编译生成Go代码</span>
            <span class="post-date" title="2020-11-23 14:58:07">2020/11/23</span>
        </a>
        
        <a  class="All 机器学习 Graph "
           href="/2020/11/18/Relation-Inference-论文梳理/"
           data-tag="Relation Inference"
           data-author="" >
            <span class="post-title" title="Relation Inference 论文梳理">Relation Inference 论文梳理</span>
            <span class="post-date" title="2020-11-18 15:32:44">2020/11/18</span>
        </a>
        
        <a  class="All Python "
           href="/2020/11/17/Python/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Python">Python</span>
            <span class="post-date" title="2020-11-17 00:40:07">2020/11/17</span>
        </a>
        
        <a  class="All Cpp "
           href="/2020/11/17/C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C++">C++</span>
            <span class="post-date" title="2020-11-17 00:39:58">2020/11/17</span>
        </a>
        
        <a  class="All 机器学习 Graph "
           href="/2020/11/13/Graph-Embedding-浅层模型/"
           data-tag="Graph Embedding"
           data-author="" >
            <span class="post-title" title="Graph Embedding 浅层模型">Graph Embedding 浅层模型</span>
            <span class="post-date" title="2020-11-13 14:58:37">2020/11/13</span>
        </a>
        
        <a  class="All 算法与数据结构 "
           href="/2020/07/11/LeetCode11-vs-LeetCode84/"
           data-tag="LeetCode,双指针,单调栈"
           data-author="" >
            <span class="post-title" title="LeetCode11 vs LeetCode84 柱状图中的矩形">LeetCode11 vs LeetCode84 柱状图中的矩形</span>
            <span class="post-date" title="2020-07-11 18:32:17">2020/07/11</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2020/04/07/Loss-Function-for-Medical-and-Non-medical-Image-Segmentation/"
           data-tag="机器学习,深度学习,分割,计算机视觉,损失函数"
           data-author="" >
            <span class="post-title" title="Loss Function for Medical and Non-medical Image Segmentation">Loss Function for Medical and Non-medical Image Segmentation</span>
            <span class="post-date" title="2020-04-07 19:08:53">2020/04/07</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2020/03/22/U-Net/"
           data-tag="机器学习,分割,计算机视觉,U-Net"
           data-author="" >
            <span class="post-title" title="U-Net">U-Net</span>
            <span class="post-date" title="2020-03-22 09:59:36">2020/03/22</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2020/03/22/Segmentation-Review/"
           data-tag="机器学习,深度学习,计算机视觉,图像分割"
           data-author="" >
            <span class="post-title" title="图像分割综述">图像分割综述</span>
            <span class="post-date" title="2020-03-22 09:52:25">2020/03/22</span>
        </a>
        
        <a  class="All 机器学习 Vanilla "
           href="/2020/03/15/Bias-Variance-N-fold-Cross-Validation/"
           data-tag="机器学习,过拟合,欠拟合,Cross Validation"
           data-author="" >
            <span class="post-title" title="Bias, Variance, N-fold Cross Validation">Bias, Variance, N-fold Cross Validation</span>
            <span class="post-date" title="2020-03-15 10:00:37">2020/03/15</span>
        </a>
        
        <a  class="All 数学 "
           href="/2020/03/01/概率论与数理统计/"
           data-tag="概率论与数理统计"
           data-author="" >
            <span class="post-title" title="概率论与数理统计">概率论与数理统计</span>
            <span class="post-date" title="2020-03-01 00:11:03">2020/03/01</span>
        </a>
        
        <a  class="All 数学 "
           href="/2020/02/29/奇异值分解-SVD-Singular-Value-Decomposition/"
           data-tag="数学,线性代数,奇异值,奇异值分解"
           data-author="" >
            <span class="post-title" title="奇异值分解 (SVD, Singular Value Decomposition)">奇异值分解 (SVD, Singular Value Decomposition)</span>
            <span class="post-date" title="2020-02-29 01:26:56">2020/02/29</span>
        </a>
        
        <a  class="All 数学 "
           href="/2020/02/29/线性代数/"
           data-tag="数学,线性代数"
           data-author="" >
            <span class="post-title" title="线性代数">线性代数</span>
            <span class="post-date" title="2020-02-29 00:52:49">2020/02/29</span>
        </a>
        
        <a  class="All 机器学习 Vanilla "
           href="/2019/11/11/朴素贝叶斯分类算法/"
           data-tag="机器学习,朴素贝叶斯"
           data-author="" >
            <span class="post-title" title="朴素贝叶斯分类算法">朴素贝叶斯分类算法</span>
            <span class="post-date" title="2019-11-11 18:17:47">2019/11/11</span>
        </a>
        
        <a  class="All 机器学习 异常检测 "
           href="/2019/11/07/基于GAN的异常检测/"
           data-tag="深度学习,GAN,异常检测"
           data-author="" >
            <span class="post-title" title="基于GAN的异常检测">基于GAN的异常检测</span>
            <span class="post-date" title="2019-11-07 21:34:36">2019/11/07</span>
        </a>
        
        <a  class="All 机器学习 Vanilla "
           href="/2019/11/07/机器学习分类/"
           data-tag="机器学习"
           data-author="" >
            <span class="post-title" title="机器学习分类">机器学习分类</span>
            <span class="post-date" title="2019-11-07 21:29:27">2019/11/07</span>
        </a>
        
        <a  class="All 机器学习 Vanilla "
           href="/2019/11/03/关于感知机学习算法的对偶形式/"
           data-tag="机器学习,统计学习方法,感知机"
           data-author="" >
            <span class="post-title" title="关于感知机学习算法的对偶形式">关于感知机学习算法的对偶形式</span>
            <span class="post-date" title="2019-11-03 16:54:10">2019/11/03</span>
        </a>
        
        <a  class="All Cpp "
           href="/2019/10/09/C-vs-Java-之虚函数/"
           data-tag="C++,Java,虚函数"
           data-author="" >
            <span class="post-title" title="C++ vs Java 之虚函数">C++ vs Java 之虚函数</span>
            <span class="post-date" title="2019-10-09 21:54:29">2019/10/09</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2019/09/09/yolov3-Keras实现解读/"
           data-tag="机器学习"
           data-author="" >
            <span class="post-title" title="yolov3 Keras实现解读">yolov3 Keras实现解读</span>
            <span class="post-date" title="2019-09-09 19:41:37">2019/09/09</span>
        </a>
        
        <a  class="All 机器学习 Vanilla "
           href="/2019/07/24/Stanford-ML-Note/"
           data-tag="机器学习,吴恩达"
           data-author="" >
            <span class="post-title" title="Stanford ML Note">Stanford ML Note</span>
            <span class="post-date" title="2019-07-24 12:52:02">2019/07/24</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2019/07/23/Global-Average-Pooling/"
           data-tag="深度学习"
           data-author="" >
            <span class="post-title" title="Global Average Pooling">Global Average Pooling</span>
            <span class="post-date" title="2019-07-23 15:25:20">2019/07/23</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2019/07/23/卷积可视化：Grad-CAM/"
           data-tag="深度学习"
           data-author="" >
            <span class="post-title" title="卷积可视化：Grad-CAM">卷积可视化：Grad-CAM</span>
            <span class="post-date" title="2019-07-23 14:49:26">2019/07/23</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2019/07/21/ResNet/"
           data-tag="机器学习"
           data-author="" >
            <span class="post-title" title="ResNet">ResNet</span>
            <span class="post-date" title="2019-07-21 11:32:14">2019/07/21</span>
        </a>
        
        <a  class="All 机器学习 计算机视觉 "
           href="/2019/07/21/Siamese-Network/"
           data-tag="机器学习"
           data-author="" >
            <span class="post-title" title="Siamese Network">Siamese Network</span>
            <span class="post-date" title="2019-07-21 11:31:50">2019/07/21</span>
        </a>
        
        <a  class="All 机器学习 Vanilla "
           href="/2019/07/21/Keras-中的损失函数/"
           data-tag="机器学习"
           data-author="" >
            <span class="post-title" title="Keras 中的损失函数">Keras 中的损失函数</span>
            <span class="post-date" title="2019-07-21 11:31:32">2019/07/21</span>
        </a>
        
        <a  class="All 算法与数据结构 "
           href="/2019/03/19/Analysis-and-Design-of-Algorithms/"
           data-tag="Algorithm"
           data-author="" >
            <span class="post-title" title="算法课程笔记">算法课程笔记</span>
            <span class="post-date" title="2019-03-19 20:55:58">2019/03/19</span>
        </a>
        
        <a  class="All 工具 Git "
           href="/2019/02/02/Git本地分支与远程分支/"
           data-tag="Git,GitHub,分支"
           data-author="" >
            <span class="post-title" title="Git本地分支与远程分支">Git本地分支与远程分支</span>
            <span class="post-date" title="2019-02-02 11:17:49">2019/02/02</span>
        </a>
        
        <a  class="All 其他 "
           href="/2018/12/14/Awesome-Solutions/"
           data-tag="solutions"
           data-author="" >
            <span class="post-title" title="Awesome Solutions">Awesome Solutions</span>
            <span class="post-date" title="2018-12-14 20:59:16">2018/12/14</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Python" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Python</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Python">Python</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2022-04-02 14:14:24'>2020-11-17 00:40</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:10.9k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Python"><span class="toc-text">Python</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、Python基础知识"><span class="toc-text">一、Python基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-基本数据结构"><span class="toc-text">1. 基本数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#列表-list"><span class="toc-text">列表 list</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#del语句"><span class="toc-text">del语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#元组-tuple"><span class="toc-text">元组 tuple</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#集合-set"><span class="toc-text">集合 set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字典"><span class="toc-text">字典</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字符串"><span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#基本介绍"><span class="toc-text">基本介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#字符串格式化"><span class="toc-text">字符串格式化</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#f-字符串"><span class="toc-text">f-字符串</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#字符串的format方法"><span class="toc-text">字符串的format方法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#手动格式化字符串"><span class="toc-text">手动格式化字符串</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#栈"><span class="toc-text">栈</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#队列"><span class="toc-text">队列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#堆"><span class="toc-text">堆</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#树"><span class="toc-text">树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图"><span class="toc-text">图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-流程控制工具"><span class="toc-text">2. 流程控制工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本语句-if-for-break-continue"><span class="toc-text">基本语句 if/for/break/continue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#循环中的else子句"><span class="toc-text">循环中的else子句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pass语句"><span class="toc-text">pass语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-文件输入输出"><span class="toc-text">3. 文件输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#打开文件"><span class="toc-text">打开文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#文件对象的方法"><span class="toc-text">文件对象的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#使用-json-保存结构化数据"><span class="toc-text">使用 json 保存结构化数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#pickle-模块"><span class="toc-text">pickle 模块</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-函数"><span class="toc-text">4. 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-错误与异常处理"><span class="toc-text">6. 错误与异常处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-模块-module"><span class="toc-text">7. 模块 module</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-包-package"><span class="toc-text">8. 包 package</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-类"><span class="toc-text">9. 类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、Python进阶知识"><span class="toc-text">二、Python进阶知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-对象的比较复制"><span class="toc-text">1. 对象的比较复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-参数的传递"><span class="toc-text">2. 参数的传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-迭代器"><span class="toc-text">3. 迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-生成器"><span class="toc-text">4. 生成器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-装饰器"><span class="toc-text">5. 装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-元类"><span class="toc-text">6. 元类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-操作符重载"><span class="toc-text">7. 操作符重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-上下文管理器"><span class="toc-text">8. 上下文管理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-并发编程"><span class="toc-text">9. 并发编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-全局解释器锁"><span class="toc-text">10. 全局解释器锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-垃圾回收机制"><span class="toc-text">11. 垃圾回收机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-Python和其他语言（C-）的混合使用"><span class="toc-text">12. Python和其他语言（C++）的混合使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、应用"><span class="toc-text">三、应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-数据分析"><span class="toc-text">1. 数据分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#NumPy"><span class="toc-text">NumPy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scipy"><span class="toc-text">Scipy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Matplotlib"><span class="toc-text">Matplotlib</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pandas"><span class="toc-text">Pandas</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tips"><span class="toc-text">Tips</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#关于循环"><span class="toc-text">关于循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python-用于算法的数据结构"><span class="toc-text">Python 用于算法的数据结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#array"><span class="toc-text">array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表示上次的结果"><span class="toc-text">_ 表示上次的结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#list-sort-与sorted-list"><span class="toc-text">list.sort()与sorted(list)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建空set和空dict"><span class="toc-text">创建空set和空dict</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运算符优先级"><span class="toc-text">运算符优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#海象运算符（赋值表达式运算符）"><span class="toc-text">海象运算符（赋值表达式运算符）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用内置函数"><span class="toc-text">常用内置函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#print"><span class="toc-text">print()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#enumerate"><span class="toc-text">enumerate()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sum"><span class="toc-text">sum()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sorted"><span class="toc-text">sorted()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip"><span class="toc-text">zip()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dir"><span class="toc-text">dir()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PEP-8-编码风格"><span class="toc-text">PEP 8 编码风格</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#刷题笔记"><span class="toc-text">刷题笔记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考"><span class="toc-text">参考</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-6 i,
    .toc-level-6 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h2 id="一、Python基础知识"><a href="#一、Python基础知识" class="headerlink" title="一、Python基础知识"></a>一、Python基础知识</h2><h3 id="1-基本数据结构"><a href="#1-基本数据结构" class="headerlink" title="1. 基本数据结构"></a>1. 基本数据结构</h3><h4 id="列表-list"><a href="#列表-list" class="headerlink" title="列表 list"></a>列表 list</h4><pre><code class="python">squares = [1, 4, 9, 16, 25]
</code></pre>
<p><strong>常用操作</strong></p>
<ol>
<li>索引和切片<ul>
<li>可以给切片赋值。</li>
<li>切片操作会返回 list 的一个<strong>浅拷贝</strong>。</li>
</ul>
</li>
<li><code>list.append(x)</code> 在末尾添加新元素</li>
<li><code>list.extend(iterable)</code> 使用可迭代对象中的所有元素来扩展list，等价于<code>a[len(a):]=iterable</code></li>
<li><code>list.insert(i,x)</code> 在给定位置插入一个元素</li>
<li><code>list.remove(x)</code> 移除列表中的第一个值为 x 的元素，如果没有这个元素，则抛出 ValueError 异常</li>
<li><code>list.pop([i])</code> 删除列表中给定位置的元素并返回它。如果没有给定位置，<code>a.pop()</code>会删除并返回列表中的最后一个元素。（这里i两边的方括号表示这个参数是可选的）</li>
<li><code>list.clear()</code> 溢出所有元素，等价于<code>del a[:]</code></li>
<li><code>list.index(x[, start[, end]])</code> 返回列表中第一个值为 x 的元素的索引</li>
<li><code>list.count(x)</code> 返回元素 x 在列表中出现的次数</li>
<li><code>list.sort(*, key=None, reverse=False)</code> 排序，参数用于自定义排序</li>
<li><code>list.reverse()</code> 翻转列表</li>
<li><code>list.copy()</code>  返回列表的一个浅拷贝</li>
<li><code>len()</code> 列表长度</li>
</ol>
<p>示例：</p>
<pre><code class="python">&gt;&gt;&gt; fruits = [&#39;orange&#39;, &#39;apple&#39;, &#39;pear&#39;, &#39;banana&#39;, &#39;kiwi&#39;, &#39;apple&#39;, &#39;banana&#39;]
&gt;&gt;&gt; fruits.count(&#39;apple&#39;)
2
&gt;&gt;&gt; fruits.count(&#39;tangerine&#39;)
0
&gt;&gt;&gt; fruits.index(&#39;banana&#39;)
3
&gt;&gt;&gt; fruits.index(&#39;banana&#39;, 4)  # Find next banana starting a position 4
6
&gt;&gt;&gt; fruits.reverse()
&gt;&gt;&gt; fruits
[&#39;banana&#39;, &#39;apple&#39;, &#39;kiwi&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;, &#39;orange&#39;]
&gt;&gt;&gt; fruits.append(&#39;grape&#39;)
&gt;&gt;&gt; fruits
[&#39;banana&#39;, &#39;apple&#39;, &#39;kiwi&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;, &#39;orange&#39;, &#39;grape&#39;]
&gt;&gt;&gt; fruits.sort()
&gt;&gt;&gt; fruits
[&#39;apple&#39;, &#39;apple&#39;, &#39;banana&#39;, &#39;banana&#39;, &#39;grape&#39;, &#39;kiwi&#39;, &#39;orange&#39;, &#39;pear&#39;]
&gt;&gt;&gt; fruits.pop()
&#39;pear&#39;
</code></pre>
<p><strong>列表推导式</strong></p>
<p>形式：[一个表达式 + 一个for子句 + 零个或多个for或if子句]</p>
<p>例如创建一个平方列表，可以用：</p>
<pre><code class="python">squares = [x**2 for x in range(10)]
</code></pre>
<p>它也等价于</p>
<pre><code class="python">squares = list(map(lambda x: x**2, range(10)))
</code></pre>
<p>再例如：</p>
<pre><code class="python">&gt;&gt;&gt; [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y]
[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]
</code></pre>
<p>如果要生成多个值则应该生成为元组的列表，例如：</p>
<pre><code class="python">&gt;&gt;&gt; # create a list of 2-tuples like (number, square)
&gt;&gt;&gt; [(x, x**2) for x in range(6)]
[(0, 0), (1, 1), (2, 4), (3, 9), (4, 16), (5, 25)]
&gt;&gt;&gt; # the tuple must be parenthesized, otherwise an error is raised
&gt;&gt;&gt; [x, x**2 for x in range(6)]
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
    [x, x**2 for x in range(6)]
                   ^
SyntaxError: invalid syntax
</code></pre>
<p>通过列表推导式展开（flatten）多维列表：</p>
<pre><code class="python">&gt;&gt;&gt; # flatten a list using a listcomp with two &#39;for&#39;
&gt;&gt;&gt; vec = [[1,2,3], [4,5,6], [7,8,9]]
&gt;&gt;&gt; [num for elem in vec for num in elem]
[1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>
<p>嵌套的列表推导式</p>
<p>利用嵌套的列表推导式实现一个矩阵转置：</p>
<pre><code class="python">&gt;&gt;&gt; matrix = [
...     [1, 2, 3, 4],
...     [5, 6, 7, 8],
...     [9, 10, 11, 12],
... ]
&gt;&gt;&gt; [[row[i] for row in matrix] for i in range(4)]
[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]
</code></pre>
<h4 id="del语句"><a href="#del语句" class="headerlink" title="del语句"></a>del语句</h4><p><a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#del" target="_blank" rel="noopener">Python标准库——del语句</a></p>
<ol>
<li><p>从 list 按照给定的索引而不是值来移除元素</p>
<p> 区别于<code>list.remove(x)</code>：不是根据值来删除，而是根据索引来删除</p>
<p> 区别于<code>list.pop([i])</code>：可以根据索引切片来删除一段，而不只是一个元素；没有返回值</p>
<p> 示例：</p>
<pre><code class="python"> &gt;&gt;&gt; a = [-1, 1, 66.25, 333, 333, 1234.5]
 &gt;&gt;&gt; del a[0]
 &gt;&gt;&gt; a
 [1, 66.25, 333, 333, 1234.5]
 &gt;&gt;&gt; del a[2:4]
 &gt;&gt;&gt; a
 [1, 66.25, 1234.5]
 &gt;&gt;&gt; del a[:]
 &gt;&gt;&gt; a
 []
</code></pre>
</li>
<li><p>直接删除变量</p>
<pre><code class="python"> &gt;&gt;&gt; a = 1
 &gt;&gt;&gt; a
 1
 &gt;&gt;&gt; del a
 &gt;&gt;&gt; a
 Traceback (most recent call last):
   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
 NameError: name &#39;a&#39; is not defined
</code></pre>
</li>
</ol>
<h4 id="元组-tuple"><a href="#元组-tuple" class="headerlink" title="元组 tuple"></a>元组 tuple</h4><pre><code class="python">&gt;&gt;&gt; t = 12345, 54321, &#39;hello!&#39;
&gt;&gt;&gt; t
(12345, 54321, &#39;hello!&#39;)
</code></pre>
<p>元组是 immutable 的，但元组中可以包含 mutable 的元素。</p>
<p>元组是可以嵌套的。</p>
<p>创建空元组：用一对空的圆括号 <code>t = ()</code></p>
<p>创建仅包含一个元素则元组：在元素后加一个逗号 <code>t = 1,</code></p>
<h4 id="集合-set"><a href="#集合-set" class="headerlink" title="集合 set"></a>集合 set</h4><p>创建集合：</p>
<ol>
<li>s = {ele1, ele2, ele3, …}</li>
<li>s = set(序列型数据，如list、tuple)</li>
<li>集合推导式</li>
</ol>
<blockquote>
<p>创建空集合要用 <code>set()</code>，而不能用 <code>{}</code>，因为 <code>{}</code> 表示一个空 dict</p>
</blockquote>
<pre><code class="python">&gt;&gt;&gt; basket = {&#39;apple&#39;, &#39;orange&#39;, &#39;apple&#39;, &#39;pear&#39;, &#39;orange&#39;, &#39;banana&#39;}
&gt;&gt;&gt; print(basket)                      # show that duplicates have been removed
{&#39;orange&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;}
&gt;&gt;&gt; &#39;orange&#39; in basket                 # fast membership testing
True
&gt;&gt;&gt; &#39;crabgrass&#39; in basket
False
</code></pre>
<p>集合的推导式形式：</p>
<pre><code class="python">&gt;&gt; a = {x for x in &#39;abracadabra&#39; if x not in &#39;abc&#39;}
&gt;&gt;&gt; a
{&#39;r&#39;, &#39;d&#39;}
</code></pre>
<h4 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h4><p>一个 key-value 的集合。</p>
<p>key必须是 immutable 类型的，可以是以下类型的数据：</p>
<ol>
<li>字符串</li>
<li>数字</li>
<li>只包含字符串、数字和元组的元组（如果有嵌套元组，所有元组中的所有元素都只能是immutable的，否则不能hash）</li>
</ol>
<p>创建字典：</p>
<ol>
<li><p>用花括号创建：<code>d = {&#39;jack&#39;: 4098, &#39;sape&#39;: 4139}</code></p>
</li>
<li><p>用 dict() 创建，参数是键值对序列</p>
<pre><code class="python"> &gt;&gt;&gt; dict([(&#39;sape&#39;, 4139), (&#39;guido&#39;, 4127), (&#39;jack&#39;, 4098)])
 {&#39;sape&#39;: 4139, &#39;guido&#39;: 4127, &#39;jack&#39;: 4098}
</code></pre>
</li>
<li><p>用 dict() 创建，参数是关键字参数</p>
<pre><code class="python"> &gt;&gt;&gt; dict(sape=4139, guido=4127, jack=4098)
 {&#39;sape&#39;: 4139, &#39;guido&#39;: 4127, &#39;jack&#39;: 4098}
</code></pre>
</li>
<li><p>字典推导式</p>
<pre><code class="python"> &gt;&gt;&gt; {x: x**2 for x in (2, 4, 6)}
 {2: 4, 4: 16, 6: 36}
</code></pre>
</li>
</ol>
<p>对一个字典执行 <code>list(d)</code> 将返回包含该字典中所有键的列表，按插入次序排列 (如需其他排序，则要使用 <code>sorted(d)</code>)。</p>
<p>要检查字典中是否存在一个特定键，可使用 <a href="https://docs.python.org/zh-cn/3.8/reference/expressions.html#in" target="_blank" rel="noopener"><code>in</code></a> 关键字。</p>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><h5 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h5><p><strong>常用操作</strong></p>
<ol>
<li><code>+</code> 拼接</li>
<li><code>*</code> 复制</li>
<li>索引和切片</li>
<li><code>len()</code> 字符串长度</li>
</ol>
<p><strong>转义符号与原始字符串</strong></p>
<p>普通字符串中用反斜杠<code>\</code>来转义，如果不希望使用转义特殊字符，可以在引号前添加 <code>r</code> 表示原始字符串。</p>
<p><strong>immutable 属性</strong></p>
<p>Python中的字符串是 immutable 的，不能被修改。不能用索引直接改变字符串中某个位置上的值。可以通过<code>s[:3] + &#39;x&#39; + s[4:]</code>。</p>
<p><strong>连续跨行输入字符串</strong></p>
<p>跨行连续输入字符串需要用三重引号 <code>&quot;&quot;&quot;...&quot;&quot;&quot;</code> 或 <code>&#39;&#39;&#39;...&#39;&#39;&#39;</code>，字符串中的回车会自动包含到字符串中，如果不想包含，在行尾添加一个 <code>\</code> 即可。</p>
<h5 id="字符串格式化"><a href="#字符串格式化" class="headerlink" title="字符串格式化"></a>字符串格式化</h5><h6 id="f-字符串"><a href="#f-字符串" class="headerlink" title="f-字符串"></a>f-字符串</h6><p><a href="https://docs.python.org/zh-cn/3.8/reference/lexical_analysis.html#f-strings" target="_blank" rel="noopener">格式化字符串字面值</a> （常简称为 f-字符串）能让你在字符串前加上 <code>f</code> 和 <code>F</code> 并将表达式写成 <code>{expression}</code> 来在字符串中包含 Python 表达式的值。</p>
<p>可选的格式说明符可以跟在表达式后面。这样可以更好地控制值的格式化方式。以下示例将pi舍入到小数点后三位:</p>
<pre><code class="python">&gt;&gt;&gt; import math
&gt;&gt;&gt; print(f&#39;The value of pi is approximately {math.pi:.3f}.&#39;)
The value of pi is approximately 3.142.
</code></pre>
<p>在 <code>&#39;:&#39;</code> 后传递一个整数可以让该字段成为最小字符宽度。这在使列对齐时很有用。:</p>
<pre><code class="python">&gt;&gt;&gt; table = {&#39;Sjoerd&#39;: 4127, &#39;Jack&#39;: 4098, &#39;Dcab&#39;: 7678}
&gt;&gt;&gt; for name, phone in table.items():
...     print(f&#39;{name:10} ==&gt; {phone:10d}&#39;)
...
Sjoerd     ==&gt;       4127
Jack       ==&gt;       4098
Dcab       ==&gt;       7678
</code></pre>
<p>其他的修饰符可用于在格式化之前转化值。 <code>&#39;!a&#39;</code> 应用 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#ascii" target="_blank" rel="noopener"><code>ascii()</code></a> ，<code>&#39;!s&#39;</code> 应用 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#str" target="_blank" rel="noopener"><code>str()</code></a>，还有 <code>&#39;!r&#39;</code> 应用 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#repr" target="_blank" rel="noopener"><code>repr()</code></a>:</p>
<pre><code class="python">&gt;&gt;&gt; animals = &#39;eels&#39;
&gt;&gt;&gt; print(f&#39;My hovercraft is full of {animals}.&#39;)
My hovercraft is full of eels.
&gt;&gt;&gt; print(f&#39;My hovercraft is full of {animals!r}.&#39;)
My hovercraft is full of &#39;eels&#39;.
</code></pre>
<p>有关这些格式规范的参考，请参阅参考指南 <a href="https://docs.python.org/zh-cn/3.8/library/string.html#formatspec" target="_blank" rel="noopener">格式规格迷你语言</a>。</p>
<h6 id="字符串的format方法"><a href="#字符串的format方法" class="headerlink" title="字符串的format方法"></a>字符串的format方法</h6><p><a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#str.format" target="_blank" rel="noopener"><code>str.format()</code></a> 方法的基本用法如下所示:</p>
<pre><code class="python">&gt;&gt;&gt; print(&#39;We are the {} who say &quot;{}!&quot;&#39;.format(&#39;knights&#39;, &#39;Ni&#39;))
We are the knights who say &quot;Ni!&quot;
</code></pre>
<p>花括号和其中的字符（称为格式字段）将替换为传递给 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#str.format" target="_blank" rel="noopener"><code>str.format()</code></a> 方法的对象。花括号中的数字可用来表示传递给 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#str.format" target="_blank" rel="noopener"><code>str.format()</code></a> 方法的对象的位置。</p>
<pre><code class="python">&gt;&gt;&gt; print(&#39;{0} and {1}&#39;.format(&#39;spam&#39;, &#39;eggs&#39;))
spam and eggs
&gt;&gt;&gt; print(&#39;{1} and {0}&#39;.format(&#39;spam&#39;, &#39;eggs&#39;))
eggs and spam
</code></pre>
<p>如果在 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#str.format" target="_blank" rel="noopener"><code>str.format()</code></a> 方法中使用关键字参数，则使用参数的名称引用它们的值。:</p>
<pre><code class="python">&gt;&gt;&gt; print(&#39;This {food} is {adjective}.&#39;.format(
...       food=&#39;spam&#39;, adjective=&#39;absolutely horrible&#39;))
This spam is absolutely horrible.
</code></pre>
<p>位置和关键字参数可以任意组合:</p>
<pre><code class="python">&gt;&gt;&gt; print(&#39;The story of {0}, {1}, and {other}.&#39;.format(&#39;Bill&#39;, &#39;Manfred&#39;,
                                                       other=&#39;Georg&#39;))
The story of Bill, Manfred, and Georg.
</code></pre>
<p>如果你有一个非常长的格式字符串，你不想把它拆开，那么你最好是按名称而不是按位置引用变量来进行格式化。 这可以通过简单地传递字典并使用方括号 <code>&#39;[]&#39;</code> 访问键来完成。</p>
<pre><code class="python">&gt;&gt;&gt; table = {&#39;Sjoerd&#39;: 4127, &#39;Jack&#39;: 4098, &#39;Dcab&#39;: 8637678}
&gt;&gt;&gt; print(&#39;Jack: {0[Jack]:d}; Sjoerd: {0[Sjoerd]:d}; &#39;
...       &#39;Dcab: {0[Dcab]:d}&#39;.format(table))
Jack: 4098; Sjoerd: 4127; Dcab: 8637678
</code></pre>
<p>这也可以通过使用 ‘**’ 符号将 table 作为关键字参数传递。</p>
<pre><code class="python">&gt;&gt;&gt; table = {&#39;Sjoerd&#39;: 4127, &#39;Jack&#39;: 4098, &#39;Dcab&#39;: 8637678}
&gt;&gt;&gt; print(&#39;Jack: {Jack:d}; Sjoerd: {Sjoerd:d}; Dcab: {Dcab:d}&#39;.format(**table))
Jack: 4098; Sjoerd: 4127; Dcab: 8637678
</code></pre>
<p>这在与内置函数 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#vars" target="_blank" rel="noopener"><code>vars()</code></a> 结合使用时非常有用，它会返回包含所有局部变量的字典。</p>
<p>例如，下面几行代码生成一组整齐的列，其中包含给定的整数和它的平方以及立方:</p>
<pre><code class="python">&gt;&gt;&gt; for x in range(1, 11):
...     print(&#39;{0:2d} {1:3d} {2:4d}&#39;.format(x, x*x, x*x*x))
...
 1   1    1
 2   4    8
 3   9   27
 4  16   64
 5  25  125
 6  36  216
 7  49  343
 8  64  512
 9  81  729
10 100 1000
</code></pre>
<p>关于使用 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#str.format" target="_blank" rel="noopener"><code>str.format()</code></a> 进行字符串格式化的完整概述，请参阅 <a href="https://docs.python.org/zh-cn/3.8/library/string.html#formatstrings" target="_blank" rel="noopener">格式字符串语法</a> 。</p>
<h6 id="手动格式化字符串"><a href="#手动格式化字符串" class="headerlink" title="手动格式化字符串"></a>手动格式化字符串</h6><pre><code class="python">str.rjust()  # 在左侧填充空格来对给定宽度的字段中的字符串进行右对齐
str.ljust()
str.center()
str.zfill()  # 在数字字符串的左边填充零。它能识别正负号。
</code></pre>
<h4 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h4><h4 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h4><h4 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h4><h4 id="树"><a href="#树" class="headerlink" title="树"></a>树</h4><h4 id="图"><a href="#图" class="headerlink" title="图"></a>图</h4><h3 id="2-流程控制工具"><a href="#2-流程控制工具" class="headerlink" title="2. 流程控制工具"></a>2. 流程控制工具</h3><h4 id="基本语句-if-for-break-continue"><a href="#基本语句-if-for-break-continue" class="headerlink" title="基本语句 if/for/break/continue"></a>基本语句 if/for/break/continue</h4><p>懂的都懂</p>
<h4 id="循环中的else子句"><a href="#循环中的else子句" class="headerlink" title="循环中的else子句"></a>循环中的else子句</h4><p>for循环可以有else语句，当for循环迭代完成后被执行，但如果for循环是通过break跳出的则不会执行for循环的else语句。</p>
<h4 id="pass语句"><a href="#pass语句" class="headerlink" title="pass语句"></a>pass语句</h4><p>pass 语句什么也不做。当语法上需要一个语句，但程序需要什么动作也不做时，可以使用它。例如：</p>
<pre><code class="python">&gt;&gt;&gt; while True:
...     pass  # Busy-wait for keyboard interrupt (Ctrl+C)
...
</code></pre>
<p>用于创建最小的类：</p>
<pre><code class="python">&gt;&gt;&gt; class MyEmptyClass:
...     pass
...
</code></pre>
<p>编写新的代码时作为一个函数或条件子句体的占位符，允许你保持在更抽象的层次上进行思考：</p>
<pre><code class="python">&gt;&gt;&gt; def initlog(*args):
...     pass   # Remember to implement this!
...
</code></pre>
<h3 id="3-文件输入输出"><a href="#3-文件输入输出" class="headerlink" title="3. 文件输入输出"></a>3. 文件输入输出</h3><h5 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h5><p> <code>open(filename, mode)</code></p>
<pre><code class="python">&gt;&gt;&gt; f = open(&#39;workfile&#39;, &#39;w&#39;)
</code></pre>
<p><strong>读写模式</strong></p>
<p>第一个参数是包含文件名的字符串。第二个参数是另一个字符串，其中包含一些描述文件使用方式的字符。<em>mode</em> 可以是 <code>&#39;r&#39;</code> ，表示文件只能读取，<code>&#39;w&#39;</code> 表示只能写入（已存在的同名文件会被删除），还有 <code>&#39;a&#39;</code> 表示打开文件以追加内容；任何写入的数据会自动添加到文件的末尾。<code>&#39;r+&#39;</code> 表示打开文件进行读写。<em>mode</em> 参数是可选的；省略时默认为 <code>&#39;r&#39;</code>。</p>
<p>通常文件是以 <em>text mode</em> 打开的，这意味着从文件中读取或写入字符串时，都会以指定的编码方式进行编码。在mode 中追加的 <code>&#39;b&#39;</code> 则以 <em>binary mode</em> 打开文件：现在数据是以字节对象的形式进行读写的。这个模式应该用于所有不包含文本的文件。</p>
<p><strong>使用with关键字</strong></p>
<p>在处理文件对象时，最好使用 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#with" target="_blank" rel="noopener"><code>with</code></a> 关键字。 优点是当子句体结束后文件会正确关闭，即使在某个时刻引发了异常。 而且使用 <code>with</code> 相比等效的 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try" target="_blank" rel="noopener"><code>try</code></a>-<a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#finally" target="_blank" rel="noopener"><code>finally</code></a> 代码块要简短得多:</p>
<pre><code>&gt;&gt;&gt; with open(&#39;workfile&#39;) as f:
...     read_data = f.read()

&gt;&gt;&gt; # We can check that the file has been automatically closed.
&gt;&gt;&gt; f.closed
True
</code></pre><h5 id="文件对象的方法"><a href="#文件对象的方法" class="headerlink" title="文件对象的方法"></a>文件对象的方法</h5><p><code>f.read(size)</code> 读取size个字符的数据，size被省略或为负数时将读取整个文件的内容。到达文件末尾后返回空字符串<code>&#39;&#39;</code>。</p>
<p><code>f.readline()</code> 读取一行。到达文件末尾后返回空字符串<code>&#39;&#39;</code>。</p>
<p>通常循环遍历文件对象：</p>
<pre><code class="python">&gt;&gt;&gt; for line in f:
...     print(line, end=&#39;&#39;)
...
This is the first line of the file.
Second line of the file
</code></pre>
<p><code>list(f)</code> 或 <code>f.readlines()</code> 以列表的形式读取文件中的所有行。</p>
<p><code>f.write(string)</code> 把string的内容写到文件中，并返回写入的字符数。</p>
<p><code>f.tell()</code> 返回一个整数，给出当前在文件中的位置。</p>
<p><code>f.seek(offset, whence)</code> 改变文件的位置。whence 确定基准点，offset 提供偏移值。<em>whence</em> 的 0 值表示从文件开头起算，1 表示使用当前文件位置，2 表示使用文件末尾作为参考点。</p>
<h5 id="使用-json-保存结构化数据"><a href="#使用-json-保存结构化数据" class="headerlink" title="使用 json 保存结构化数据"></a>使用 json 保存结构化数据</h5><p>f.read()等方法只能返回字符串，然后在通过int()等函数解析出来。但如果想保存诸如嵌套列表和字典这样更复杂的数据类型时，手动解析和序列化会变得复杂。</p>
<p>序列化（serializing）：把结构化数据转化成字符串表示形式。</p>
<p>反序列化（deserializing）：从字符串表示中重建数据。</p>
<p><code>dumps()</code> 把对象序列化为JSON格式的字符串：</p>
<pre><code class="python">&gt;&gt;&gt; import json
&gt;&gt;&gt; json.dumps([1, &#39;simple&#39;, &#39;list&#39;])
&#39;[1, &quot;simple&quot;, &quot;list&quot;]&#39;
</code></pre>
<p> <a href="https://docs.python.org/zh-cn/3.8/library/json.html#json.dump" target="_blank" rel="noopener"><code>dump()</code></a> 将对象序列化为 <a href="https://docs.python.org/zh-cn/3.8/glossary.html#term-text-file" target="_blank" rel="noopener">text file</a> ，<code>load()</code> 将 text file 反序列化为对象：</p>
<pre><code class="python">json.dump(x, f)
x = json.load(f)
</code></pre>
<h5 id="pickle-模块"><a href="#pickle-模块" class="headerlink" title="pickle 模块"></a>pickle 模块</h5><p>与 <a href="https://docs.python.org/zh-cn/3.8/tutorial/inputoutput.html#tut-json" target="_blank" rel="noopener">JSON</a> 不同，<em>pickle</em> 是一种<strong>允许对任意复杂 Python 对象进行序列化</strong>的协议。因此，它为 <strong>Python 所特有，不能用于与其他语言编写的应用程序通信</strong>。默认情况下它也是不安全的：如果数据是由熟练的攻击者精心设计的，则反序列化来自不受信任来源的 pickle 数据可以执行任意代码。</p>
<h3 id="4-函数"><a href="#4-函数" class="headerlink" title="4. 函数"></a>4. 函数</h3><p><strong>return语句</strong></p>
<p>一个函数即使没有return语句，也会有一个返回值None。</p>
<p><strong>文档字符串</strong></p>
<p>函数体中的第一行可以是文档字符串（可选）。</p>
<p>关于内容和格式的一些约定：</p>
<ol>
<li>第一行应该是对象目的的简要概述。</li>
<li>如果文档字符串中有更多行，则第二行应为空白，从而在视觉上将摘要与其余描述分开。</li>
<li>后面几行应该是一个或多个段落，描述对象的调用约定，它的副作用等。</li>
<li>缩进：文档字符串第一行 <em>之后</em> 的第一个非空行确定整个文档字符串的缩进量。（我们不能使用第一行，因为它通常与字符串的开头引号相邻，因此它的缩进在字符串文字中不明显。）然后从字符串的所有行的开头剥离与该缩进 “等效” 的空格。 </li>
</ol>
<p>例如，</p>
<pre><code class="python">&gt;&gt;&gt; def my_function():
...     &quot;&quot;&quot;Do nothing, but document it.
...
...     No, really, it doesn&#39;t do anything.
...     &quot;&quot;&quot;
...     pass
...
&gt;&gt;&gt; print(my_function.__doc__)
Do nothing, but document it.

    No, really, it doesn&#39;t do anything.
</code></pre>
<p><strong>函数中的变量</strong></p>
<p>函数的 <em>执行</em> 会引入一个用于函数局部变量的新符号表。 更确切地说，函数中所有的变量赋值都将存储在局部符号表中；而变量引用会首先在局部符号表中查找，然后是外层函数的局部符号表，再然后是全局符号表，最后是内置名称的符号表。 因此，尽管全局变量和外层函数的变量可以被引用，但不能在函数内部直接赋值（除非是在 <a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#global" target="_blank" rel="noopener"><code>global</code></a> 语句中定义的全局变量，或者是在 <a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#nonlocal" target="_blank" rel="noopener"><code>nonlocal</code></a> 语句中定义的外层函数的变量）。</p>
<p><strong>实参按值传递</strong></p>
<p>python中采用值传递的方式传参，在函数中只是变量的副本，在函数中修改参数的值并不会改变变量在函数外的值。</p>
<p>如果实际参数的数据类型是可变对象（列表、字典），则函数参数的传递方式将采用引用传递方式，从而能够在函数中修改它们。需要注意的是，引用传递方式的底层实现，采用的依然还是值传递的方式，因为传参的过程是对指针的值拷贝。</p>
<p><a href="http://c.biancheng.net/view/2258.html" target="_blank" rel="noopener">Python函数参数传递机制</a></p>
<p><strong>形参类型</strong></p>
<p>形参分为 位置参数 和 关键字参数。关键字形参也被称为命名形参。</p>
<p>函数的定义看起来可以像是这样：</p>
<pre><code class="python">def f(pos1, pos2, /, pos_or_kwd, *, kwd1, kwd2):
      -----------    ----------     ----------
        |             |                  |
        |        Positional or keyword   |
        |                                - Keyword only
         -- Positional only
</code></pre>
<p>在这里 <code>/</code> 和 <code>*</code> 是可选的。 如果使用这些符号则表明可以通过何种形参将参数值传递给函数：只能按位置传参、可以按位置或关键字传参，以及只能按关键字传参。 </p>
<p>如果函数定义中未使用 <code>/</code> 和 <code>*</code>，则参数可以按位置或按关键字传递给函数。</p>
<p><strong>关键字参数</strong></p>
<p>使用形如 <code>kwarg=value</code> 的 <a href="https://docs.python.org/zh-cn/3.8/glossary.html#term-keyword-argument" target="_blank" rel="noopener">关键字参数</a> 来调用函数。</p>
<p>关键字参数必须跟随在位置参数的后面。</p>
<p><strong>可变参数</strong></p>
<p>当存在一个形式为 <code>**name</code> 的最后一个形参时，它会接收一个<strong>字典</strong>，其中包含除了与已有形参相对应的关键字参数以外的所有关键字参数。 这可以与一个形式为 <code>*name</code>，接收一个包含除了已有形参列表以外的位置参数的<strong>元组</strong>的形参组合使用 (<code>*name</code> 必须出现在 <code>**name</code> 之前。) 例如，如果我们这样定义一个函数:</p>
<pre><code class="python">def cheeseshop(kind, *arguments, **keywords):
    print(&quot;-- Do you have any&quot;, kind, &quot;?&quot;)
    print(&quot;-- I&#39;m sorry, we&#39;re all out of&quot;, kind)
    for arg in arguments:
        print(arg)
    print(&quot;-&quot; * 40)
    for kw in keywords:
        print(kw, &quot;:&quot;, keywords[kw])
</code></pre>
<p>它可以像这样调用:</p>
<pre><code class="python">cheeseshop(&quot;Limburger&quot;, &quot;It&#39;s very runny, sir.&quot;,
           &quot;It&#39;s really very, VERY runny, sir.&quot;,
           shopkeeper=&quot;Michael Palin&quot;,
           client=&quot;John Cleese&quot;,
           sketch=&quot;Cheese Shop Sketch&quot;)
</code></pre>
<p>它会打印:</p>
<pre><code class="python">-- Do you have any Limburger ?
-- I&#39;m sorry, we&#39;re all out of Limburger
It&#39;s very runny, sir.
It&#39;s really very, VERY runny, sir.
----------------------------------------
shopkeeper : Michael Palin
client : John Cleese
sketch : Cheese Shop Sketch
</code></pre>
<p>注意打印时关键字参数的顺序与调用函数时提供它们的顺序是一致的。</p>
<p>一般来说，这些 <code>可变参数</code> 将在形式参数列表的末尾，因为它们收集传递给函数的所有剩余输入参数。出现在 <code>*args</code> 参数之后的任何形式参数都是 ‘仅限关键字参数’，也就是说它们只能作为关键字参数而不能是位置参数。</p>
<p><strong>解包参数列表</strong></p>
<p>在调用函数时，用<em>解包list和tuple作为位置参数，或者用*</em>解包dict来作为关键字参数。</p>
<pre><code class="python">&gt;&gt;&gt; args = [3, 6]
&gt;&gt;&gt; list(range(*args))            # call with arguments unpacked from a list
[3, 4, 5]
</code></pre>
<pre><code class="python">&gt;&gt;&gt; def parrot(voltage, state=&#39;a stiff&#39;, action=&#39;voom&#39;):
...     print(&quot;-- This parrot wouldn&#39;t&quot;, action, end=&#39; &#39;)
...     print(&quot;if you put&quot;, voltage, &quot;volts through it.&quot;, end=&#39; &#39;)
...     print(&quot;E&#39;s&quot;, state, &quot;!&quot;)
...
&gt;&gt;&gt; d = {&quot;voltage&quot;: &quot;four million&quot;, &quot;state&quot;: &quot;bleedin&#39; demised&quot;, &quot;action&quot;: &quot;VOOM&quot;}
&gt;&gt;&gt; parrot(**d)
-- This parrot wouldn&#39;t VOOM if you put four million volts through it. E&#39;s bleedin&#39; demised
</code></pre>
<p><strong>默认参数值</strong></p>
<p> 默认值只会执行一次。这条规则在默认值为可变对象（列表、字典以及大多数类实例）时很重要。比如，下面的函数会存储在后续调用中传递给它的参数:</p>
<pre><code class="python">def f(a, L=[]):
    L.append(a)
    return L

print(f(1))
print(f(2))
print(f(3))
</code></pre>
<p>这将打印出</p>
<pre><code class="python">[1]
[1, 2]
[1, 2, 3]
</code></pre>
<p>如果你不想要在后续调用之间共享默认值，你可以这样写这个函数:</p>
<pre><code class="python">def f(a, L=None):
    if L is None:
        L = []
    L.append(a)
    return L
</code></pre>
<p><strong>Lambda 匿名函数</strong></p>
<p>返回两个参数的和： <code>lambda a, b: a+b</code> 。</p>
<p>用法：可以在需要函数对象的任何地方使用。例如，</p>
<ol>
<li><p>返回一个函数</p>
<pre><code class="python"> &gt;&gt;&gt; def make_incrementor(n):
 ...     return lambda x: x + n
 ...
 &gt;&gt;&gt; f = make_incrementor(42)
 &gt;&gt;&gt; f(0)
 42
 &gt;&gt;&gt; f(1)
 43
</code></pre>
</li>
<li><p>传递一个小函数作为参数</p>
<pre><code class="python"> &gt;&gt;&gt; pairs = [(1, &#39;one&#39;), (2, &#39;two&#39;), (3, &#39;three&#39;), (4, &#39;four&#39;)]
 &gt;&gt;&gt; pairs.sort(key=lambda pair: pair[1])
 &gt;&gt;&gt; pairs
 [(4, &#39;four&#39;), (1, &#39;one&#39;), (3, &#39;three&#39;), (2, &#39;two&#39;)]
</code></pre>
</li>
</ol>
<h3 id="6-错误与异常处理"><a href="#6-错误与异常处理" class="headerlink" title="6. 错误与异常处理"></a>6. 错误与异常处理</h3><pre><code class="python">&gt;&gt;&gt; while True:
...     try:
...         x = int(input(&quot;Please enter a number: &quot;))
...         break
...     except ValueError:
...         print(&quot;Oops!  That was no valid number.  Try again...&quot;)
</code></pre>
<p><strong>try 语句的工作原理</strong></p>
<ul>
<li>首先，执行 <em>try 子句</em> （<a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try" target="_blank" rel="noopener"><code>try</code></a> 和 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#except" target="_blank" rel="noopener"><code>except</code></a> 关键字之间的（多行）语句）。</li>
<li>如果没有异常发生，则跳过 <em>except 子句</em> 并完成 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try" target="_blank" rel="noopener"><code>try</code></a> 语句的执行。</li>
<li>如果在执行 try 子句时发生了异常，则跳过该子句中剩下的部分。 然后，如果异常的类型和 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#except" target="_blank" rel="noopener"><code>except</code></a> 关键字后面的异常匹配，则执行 except 子句，然后继续执行 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try" target="_blank" rel="noopener"><code>try</code></a> 语句之后的代码。</li>
<li>如果发生的异常和 except 子句中指定的异常不匹配，则将其传递到外部的 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try" target="_blank" rel="noopener"><code>try</code></a> 语句中；如果没有找到处理程序，则它是一个 <em>未处理异常</em>，执行将停止并显示如上所示的消息。</li>
</ul>
<p><strong>try语句中的else子句</strong></p>
<p>try语句中的else子句会在未发生异常时执行。</p>
<p><a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try" target="_blank" rel="noopener"><code>try</code></a> … <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#except" target="_blank" rel="noopener"><code>except</code></a> 语句有一个可选的 <em>else 子句</em>，在使用时必须放在所有的 except 子句后面。对于在 try 子句不引发异常时必须执行的代码来说很有用。 例如:</p>
<pre><code class="python">for arg in sys.argv[1:]:
    try:
        f = open(arg, &#39;r&#39;)
    except OSError:
        print(&#39;cannot open&#39;, arg)
    else:
        print(arg, &#39;has&#39;, len(f.readlines()), &#39;lines&#39;)
        f.close()
</code></pre>
<p><strong>抛出异常</strong></p>
<p><a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#raise" target="_blank" rel="noopener"><code>raise</code></a> 语句允许程序员强制发生指定的异常。</p>
<p><a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#raise" target="_blank" rel="noopener"><code>raise</code></a> 唯一的参数就是要抛出的异常。这个参数必须是一个异常实例或者是一个异常类（派生自 <a href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#Exception" target="_blank" rel="noopener"><code>Exception</code></a> 的类）。如果传递的是一个异常类，它将通过调用没有参数的构造函数来隐式实例化:</p>
<pre><code class="python">raise ValueError  # shorthand for &#39;raise ValueError()&#39;
</code></pre>
<p>如果你需要确定是否引发了异常但不打算处理它，则可以使用更简单的 <a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#raise" target="_blank" rel="noopener"><code>raise</code></a> 语句形式重新引发异常</p>
<pre><code class="python">&gt;&gt;&gt; try:
...     raise NameError(&#39;HiThere&#39;)
... except NameError:
...     print(&#39;An exception flew by!&#39;)
...     raise
...
An exception flew by!
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 2, in &lt;module&gt;
NameError: HiThere
</code></pre>
<p><strong>用户自定义异常</strong></p>
<p>异常通常应该直接或间接地从 <a href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#Exception" target="_blank" rel="noopener"><code>Exception</code></a> 类派生。</p>
<p>大多数异常都定义为名称以“Error”结尾，类似于标准异常的命名。</p>
<p><strong>finally子句</strong></p>
<p>用于定义必须在所有情况下执行的清理操作。</p>
<p>如果存在 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#finally" target="_blank" rel="noopener"><code>finally</code></a> 子句，则 <code>finally</code> 子句将作为 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try" target="_blank" rel="noopener"><code>try</code></a> 语句结束前的最后一项任务被执行。 <code>finally</code> 子句不论 <code>try</code> 语句是否产生了异常都会被执行。 </p>
<p>当异常发生时的一些更复杂的情况：</p>
<ul>
<li>如果在执行 <code>try</code> 子句期间发生了异常，该异常可由一个 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#except" target="_blank" rel="noopener"><code>except</code></a> 子句进行处理。 如果异常没有被某个 <code>except</code> 子句所处理，则该异常会在 <code>finally</code> 子句执行之后被重新引发。</li>
<li>异常也可能在 <code>except</code> 或 <code>else</code> 子句执行期间发生。 同样地，该异常会在 <code>finally</code> 子句执行之后被重新引发。</li>
<li>如果在执行 <code>try</code> 语句时遇到一个 <a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#break" target="_blank" rel="noopener"><code>break</code></a>, <a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#continue" target="_blank" rel="noopener"><code>continue</code></a> 或 <a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#return" target="_blank" rel="noopener"><code>return</code></a> 语句，则 <code>finally</code> 子句将在执行 <code>break</code>, <code>continue</code> 或 <code>return</code> 语句之前被执行。</li>
<li>如果 <code>finally</code> 子句中包含一个 <code>return</code> 语句，则返回值将来自 <code>finally</code> 子句的某个 <code>return</code> 语句的返回值，而非来自 <code>try</code> 子句的 <code>return</code> 语句的返回值。</li>
</ul>
<h3 id="7-模块-module"><a href="#7-模块-module" class="headerlink" title="7. 模块 module"></a>7. 模块 module</h3><p>模块：以<code>.py</code>为后缀结尾的文件，其中可以包含可执行的语句和函数定义。</p>
<p><strong>使用import语句导入模块</strong></p>
<pre><code class="python">from xxx import yyy
import xxx
import xxx as x
from xxx import yyy as y
</code></pre>
<p>不推荐以下用法：</p>
<pre><code class="python">&gt;&gt;&gt; from fibo import *
&gt;&gt;&gt; fib(500)
0 1 1 2 3 5 8 13 21 34 55 89 144 233 377
</code></pre>
<p>这会调入所有非以下划线（<code>_</code>）开头的名称。 在多数情况下，Python程序员都不会使用这个功能，因为它在解释器中引入了一组未知的名称，而它们很可能会覆盖一些你已经定义过的东西。</p>
<p>注意通常情况下从一个模块或者包内调入 <code>*</code> 的做法是不太被接受的， 因为这通常会导致代码的可读性很差。不过，在交互式编译器中为了节省打字可以这么用。</p>
<p><strong>以脚本的方式执行模块</strong></p>
<p>执行方式：</p>
<pre><code class="shell">python fibo.py &lt;arguments&gt;
</code></pre>
<p>这项操作将执行模块里的代码，和导入模块一样，但会把 <code>__name__</code> 赋值为 <code>&quot;__main__&quot;</code>。 也就是把下列代码添加到模块末尾：</p>
<pre><code class="python">if __name__ == &quot;__main__&quot;:
    import sys
    fib(int(sys.argv[1]))
</code></pre>
<p><strong>编译过的Python文件</strong></p>
<p>为了加速模块载入，Python在 <code>__pycache__</code> 目录里缓存了每个模块的编译后版本，名称为 <code>module.*version*.pyc</code> ，其中名称中的版本字段对编译文件的格式进行编码， 它一般使用Python版本号。</p>
<p>Python根据编译版本检查源的修改日期，以查看它是否已过期并需要重新编译。</p>
<p>Python在两种情况下不会检查缓存。首先，对于从命令行直接载入的模块，它从来都是重新编译并且不存储编译结果；其次，如果没有源模块，它不会检查缓存。</p>
<p><strong>使用sys.path修改模块搜索路径</strong></p>
<p><code>sys.path</code> 变量是一个字符串列表，用于确定解释器的模块搜索路径。该变量被初始化为从环境变量 <a href="https://docs.python.org/zh-cn/3.8/using/cmdline.html#envvar-PYTHONPATH" target="_blank" rel="noopener"><code>PYTHONPATH</code></a> 获取的默认路径，或者如果 <a href="https://docs.python.org/zh-cn/3.8/using/cmdline.html#envvar-PYTHONPATH" target="_blank" rel="noopener"><code>PYTHONPATH</code></a> 未设置，则从内置默认路径初始化。你可以使用标准列表操作对其进行修改:</p>
<pre><code class="python">&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.path.append(&#39;/ufs/guido/lib/python&#39;)
</code></pre>
<h3 id="8-包-package"><a href="#8-包-package" class="headerlink" title="8. 包 package"></a>8. 包 package</h3><p>必须要有 <code>__init__.py</code> 文件才能让 Python 将包含该文件的目录当作包。</p>
<p>如果一个包的 <code>__init__.py</code> 代码定义了一个名为 <code>__all__</code> 的列表，它会被视为在遇到 <code>from package import *</code> 时应该导入的模块名列表。</p>
<p>例如，文件 <code>sound/effects/__init__.py</code> 可以包含以下代码:</p>
<pre><code class="python">__all__ = [&quot;echo&quot;, &quot;surround&quot;, &quot;reverse&quot;]
</code></pre>
<p>这意味着 <code>from sound.effects import *</code> 将导入 <code>sound</code> 包的三个命名子模块。</p>
<p>使用前导点来指示相对导入中涉及的当前包和父包。例如，从 <code>surround</code> 模块，你可以使用:</p>
<pre><code class="python">from . import echo
from .. import formats
from ..filters import equalizer
</code></pre>
<h3 id="9-类"><a href="#9-类" class="headerlink" title="9. 类"></a>9. 类</h3><p><strong>定义</strong></p>
<pre><code class="python">class MyClass:
    &quot;&quot;&quot;A simple example class&quot;&quot;&quot;
    i = 12345

    def f(self):
        return &#39;hello world&#39;
</code></pre>
<p><strong>实例化</strong></p>
<pre><code class="python">x = MyClass()
</code></pre>
<p><strong>定义初始状态</strong></p>
<p>实例化操作（“调用”类对象）会创建一个空对象。 许多类喜欢创建带有特定初始状态的自定义实例。 为此类定义可能包含一个名为 <a href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__init__" target="_blank" rel="noopener"><code>__init__()</code></a> 的特殊方法，就像这样:</p>
<pre><code class="python">class Complex:
    def __init__(self, realpart, imagpart):
        self.r = realpart
        self.i = imagpart

x = Complex(3.0, -4.5)
</code></pre>
<p>当一个类定义了 <a href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__init__" target="_blank" rel="noopener"><code>__init__()</code></a> 方法时，类的实例化操作会自动为新创建的类实例发起调用 <a href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__init__" target="_blank" rel="noopener"><code>__init__()</code></a>。</p>
<p><strong>方法</strong></p>
<p>定义方法时第一个参数时 <code>self</code>，而调用方法是却不需要传这个参数。原因：</p>
<p>实例对象会作为函数的第一个参数被传入。 在上面的示例中，调用 <code>x.f()</code> 其实就相当于 <code>MyClass.f(x)</code>。 总之，调用一个具有 <em>n</em> 个参数的方法就相当于调用再多一个参数的对应函数，这个参数值为方法所属实例对象，位置在其他参数之前。</p>
<p><strong>继承</strong></p>
<p>定义派生类的语法：</p>
<pre><code class="python">class DerivedClassName(BaseClassName):
    &lt;statement-1&gt;
    .
    .
    .
    &lt;statement-N&gt;
</code></pre>
<p>派生类可能会重载其基类的方法。（对 C++ 程序员的提示：Python 中所有的方法实际上都是 <code>virtual</code> 方法。）</p>
<p>Python有两个内置函数可被用于继承机制：</p>
<ul>
<li>使用 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#isinstance" target="_blank" rel="noopener"><code>isinstance()</code></a> 来检查一个实例的类型: <code>isinstance(obj, int)</code> 仅会在 <code>obj.__class__</code> 为 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#int" target="_blank" rel="noopener"><code>int</code></a> 或某个派生自 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#int" target="_blank" rel="noopener"><code>int</code></a> 的类时为 <code>True</code>。</li>
<li>使用 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#issubclass" target="_blank" rel="noopener"><code>issubclass()</code></a> 来检查类的继承关系: <code>issubclass(bool, int)</code> 为 <code>True</code>，因为 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#bool" target="_blank" rel="noopener"><code>bool</code></a> 是 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#int" target="_blank" rel="noopener"><code>int</code></a> 的子类。 但是，<code>issubclass(float, int)</code> 为 <code>False</code>，因为 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#float" target="_blank" rel="noopener"><code>float</code></a> 不是 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#int" target="_blank" rel="noopener"><code>int</code></a> 的子类。</li>
</ul>
<p><strong>多重继承</strong></p>
<p>定义语法：</p>
<pre><code class="python">class DerivedClassName(Base1, Base2, Base3):
    &lt;statement-1&gt;
    .
    .
    .
    &lt;statement-N&gt;
</code></pre>
<p>搜索从父类所继承属性的操作是深度优先、从左至右的，当层次结构中存在重叠时不会在同一个类中搜索两次。 因此，如果某一属性在 <code>DerivedClassName</code> 中未找到，则会到 <code>Base1</code> 中搜索它，然后（递归地）到 <code>Base1</code> 的基类中搜索，如果在那里未找到，再到 <code>Base2</code> 中搜索，依此类推。</p>
<p><strong>私有变量</strong></p>
<p>普遍约定（开头一个下划线是私有成员）：私有变量在python中并不存在，但是，大多数 Python 代码都遵循这样一个约定：<strong>带有一个下划线的名称</strong> (例如 <code>_spam</code>) <strong>应该被当作是 API 的非公有部分</strong> (无论它是函数、方法或是数据成员)。 </p>
<p>官方支持（开头至少两个下划线的成员名会被改写）：名称改写机制，即任何形式为 <code>__spam</code> 的标识符（至少带有两个前缀下划线，至多一个后缀下划线）的文本将被替换为 <code>_classname__spam</code>，其中 <code>classname</code> 为去除了前缀下划线的当前类名称。 </p>
<h2 id="二、Python进阶知识"><a href="#二、Python进阶知识" class="headerlink" title="二、Python进阶知识"></a>二、Python进阶知识</h2><h3 id="1-对象的比较复制"><a href="#1-对象的比较复制" class="headerlink" title="1. 对象的比较复制"></a>1. 对象的比较复制</h3><h3 id="2-参数的传递"><a href="#2-参数的传递" class="headerlink" title="2. 参数的传递"></a>2. 参数的传递</h3><h3 id="3-迭代器"><a href="#3-迭代器" class="headerlink" title="3. 迭代器"></a>3. 迭代器</h3><blockquote>
<p>总结：</p>
<p>迭代器对象具有<code>__next()__</code>方法，利用内置得 <code>next(迭代器对象)</code> 函数可以查看被迭代的容器中的元素。</p>
<p>可以为一个类定义<code>__iter()__()</code> 方法来返回一个迭代器，使得这个类可以被迭代。</p>
</blockquote>
<hr>
<p>到目前为止，您可能已经注意到大多数容器对象都可以使用 <a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#for" target="_blank" rel="noopener"><code>for</code></a> 语句:</p>
<pre><code class="python">for element in [1, 2, 3]:
    print(element)
for element in (1, 2, 3):
    print(element)
for key in {&#39;one&#39;:1, &#39;two&#39;:2}:
    print(key)
for char in &quot;123&quot;:
    print(char)
for line in open(&quot;myfile.txt&quot;):
    print(line, end=&#39;&#39;)
</code></pre>
<p>这种访问风格清晰、简洁又方便。 迭代器的使用非常普遍并使得 Python 成为一个统一的整体。 在幕后，<a href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#for" target="_blank" rel="noopener"><code>for</code></a> 语句会在容器对象上调用 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#iter" target="_blank" rel="noopener"><code>iter()</code></a>。 该函数返回一个定义了 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#iterator.__next__" target="_blank" rel="noopener"><code>__next__()</code></a> 方法的迭代器对象，此方法将逐一访问容器中的元素。 当元素用尽时，<a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#iterator.__next__" target="_blank" rel="noopener"><code>__next__()</code></a> 将引发 <a href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#StopIteration" target="_blank" rel="noopener"><code>StopIteration</code></a> 异常来通知终止 <code>for</code> 循环。 你可以使用 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#next" target="_blank" rel="noopener"><code>next()</code></a> 内置函数来调用 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#iterator.__next__" target="_blank" rel="noopener"><code>__next__()</code></a> 方法；这个例子显示了它的运作方式:</p>
<pre><code class="python">&gt;&gt;&gt; s = &#39;abc&#39;
&gt;&gt;&gt; it = iter(s)
&gt;&gt;&gt; it
&lt;iterator object at 0x00A1DB50&gt;
&gt;&gt;&gt; next(it)
&#39;a&#39;
&gt;&gt;&gt; next(it)
&#39;b&#39;
&gt;&gt;&gt; next(it)
&#39;c&#39;
&gt;&gt;&gt; next(it)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
    next(it)
StopIteration
</code></pre>
<p>看过迭代器协议的幕后机制，给你的类添加迭代器行为就很容易了。 定义一个 <a href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__iter__" target="_blank" rel="noopener"><code>__iter__()</code></a> 方法来返回一个带有 <a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#iterator.__next__" target="_blank" rel="noopener"><code>__next__()</code></a> 方法的对象。 如果类已定义了 <code>__next__()</code>，则 <a href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__iter__" target="_blank" rel="noopener"><code>__iter__()</code></a> 可以简单地返回 <code>self</code>:</p>
<pre><code class="python">class Reverse:
    &quot;&quot;&quot;Iterator for looping over a sequence backwards.&quot;&quot;&quot;
    def __init__(self, data):
        self.data = data
        self.index = len(data)

    def __iter__(self):
        return self

    def __next__(self):
        if self.index == 0:
            raise StopIteration
        self.index = self.index - 1
        return self.data[self.index]
</code></pre>
<pre><code class="python">&gt;&gt;&gt; rev = Reverse(&#39;spam&#39;)
&gt;&gt;&gt; iter(rev)
&lt;__main__.Reverse object at 0x00A1DB50&gt;
&gt;&gt;&gt; for char in rev:
...     print(char)
...
m
a
p
s
</code></pre>
<h3 id="4-生成器"><a href="#4-生成器" class="headerlink" title="4. 生成器"></a>4. 生成器</h3><p><strong>生成器</strong></p>
<p><a href="https://docs.python.org/zh-cn/3.8/glossary.html#term-generator" target="_blank" rel="noopener">生成器</a> 是一个用于创建迭代器的简单而强大的工具。 它们的写法类似于标准的函数，但当它们要返回数据时会使用 <a href="https://docs.python.org/zh-cn/3.8/reference/simple_stmts.html#yield" target="_blank" rel="noopener"><code>yield</code></a> 语句。 每次在生成器上调用 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#next" target="_blank" rel="noopener"><code>next()</code></a> 时，它会从上次离开的位置恢复执行（它会记住上次执行语句时的所有数据值）。 一个显示如何非常容易地创建生成器的示例如下:</p>
<pre><code class="python">def reverse(data):
    for index in range(len(data)-1, -1, -1):
        yield data[index]
</code></pre>
<pre><code class="python">&gt;&gt;&gt; for char in reverse(&#39;golf&#39;):
...     print(char)
...
f
l
o
g
</code></pre>
<p>可以用生成器来完成的操作同样可以用前一节所描述的基于类的迭代器来完成。 但生成器的写法更为紧凑，因为它会自动创建 <a href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__iter__" target="_blank" rel="noopener"><code>__iter__()</code></a> 和 <a href="https://docs.python.org/zh-cn/3.8/reference/expressions.html#generator.__next__" target="_blank" rel="noopener"><code>__next__()</code></a> 方法。</p>
<p>另一个关键特性在于局部变量和执行状态会在每次调用之间自动保存。 这使得该函数相比使用 <code>self.index</code> 和 <code>self.data</code> 这种实例变量的方式更易编写且更为清晰。</p>
<p>除了会自动创建方法和保存程序状态，当生成器终结时，它们还会自动引发 <a href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#StopIteration" target="_blank" rel="noopener"><code>StopIteration</code></a>。 这些特性结合在一起，使得创建迭代器能与编写常规函数一样容易。</p>
<p><strong>生成器表达式</strong></p>
<p>某些简单的生成器可以写成简洁的表达式代码，所用语法<strong>类似列表推导式，但外层为圆括号而非方括号</strong>。 这种表达式被设计<strong>用于生成器将立即被外层函数所使用的情况</strong>。 生成器表达式相比完整的生成器更紧凑但较不灵活，相比等效的列表推导式则更为节省内存。</p>
<p>示例:</p>
<pre><code class="python">&gt;&gt;&gt; sum(i*i for i in range(10))                 # sum of squares
285

&gt;&gt;&gt; xvec = [10, 20, 30]
&gt;&gt;&gt; yvec = [7, 5, 3]
&gt;&gt;&gt; sum(x*y for x,y in zip(xvec, yvec))         # dot product
260

&gt;&gt;&gt; unique_words = set(word for line in page  for word in line.split())

&gt;&gt;&gt; valedictorian = max((student.gpa, student.name) for student in graduates)

&gt;&gt;&gt; data = &#39;golf&#39;
&gt;&gt;&gt; list(data[i] for i in range(len(data)-1, -1, -1))
[&#39;f&#39;, &#39;l&#39;, &#39;o&#39;, &#39;g&#39;]
</code></pre>
<h3 id="5-装饰器"><a href="#5-装饰器" class="headerlink" title="5. 装饰器"></a>5. 装饰器</h3><h3 id="6-元类"><a href="#6-元类" class="headerlink" title="6. 元类"></a>6. 元类</h3><h3 id="7-操作符重载"><a href="#7-操作符重载" class="headerlink" title="7. 操作符重载"></a>7. 操作符重载</h3><h3 id="8-上下文管理器"><a href="#8-上下文管理器" class="headerlink" title="8. 上下文管理器"></a>8. 上下文管理器</h3><h3 id="9-并发编程"><a href="#9-并发编程" class="headerlink" title="9. 并发编程"></a>9. 并发编程</h3><h3 id="10-全局解释器锁"><a href="#10-全局解释器锁" class="headerlink" title="10. 全局解释器锁"></a>10. 全局解释器锁</h3><h3 id="11-垃圾回收机制"><a href="#11-垃圾回收机制" class="headerlink" title="11. 垃圾回收机制"></a>11. 垃圾回收机制</h3><p>Python 会自动进行内存管理（对大多数对象进行引用计数并使用 <a href="https://docs.python.org/zh-cn/3.8/glossary.html#term-garbage-collection" target="_blank" rel="noopener">garbage collection</a> 来清除循环引用）。 当某个对象的最后一个引用被移除后不久就会释放其所占用的内存。</p>
<h3 id="12-Python和其他语言（C-）的混合使用"><a href="#12-Python和其他语言（C-）的混合使用" class="headerlink" title="12. Python和其他语言（C++）的混合使用"></a>12. Python和其他语言（C++）的混合使用</h3><h2 id="三、应用"><a href="#三、应用" class="headerlink" title="三、应用"></a>三、应用</h2><h3 id="1-数据分析"><a href="#1-数据分析" class="headerlink" title="1. 数据分析"></a>1. 数据分析</h3><h4 id="NumPy"><a href="#NumPy" class="headerlink" title="NumPy"></a>NumPy</h4><h4 id="Scipy"><a href="#Scipy" class="headerlink" title="Scipy"></a>Scipy</h4><h4 id="Matplotlib"><a href="#Matplotlib" class="headerlink" title="Matplotlib"></a>Matplotlib</h4><h4 id="Pandas"><a href="#Pandas" class="headerlink" title="Pandas"></a>Pandas</h4><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h3 id="关于循环"><a href="#关于循环" class="headerlink" title="关于循环"></a>关于循环</h3><ol>
<li>list 带索引的循环：<code>for i, v in enumerate(list):</code></li>
<li>dict 的循环：<code>for k,v in dict.items();</code></li>
<li>如果想在循环时修改 list 内容，一般来说改为创建一个新列表是比较简单且安全的</li>
<li>如果想在循环时修改 dict 内容，一般基于 dict 的副本 dict.copy().items() 循环更好，或者创建一个新 dict</li>
</ol>
<h3 id="Python-用于算法的数据结构"><a href="#Python-用于算法的数据结构" class="headerlink" title="Python 用于算法的数据结构"></a>Python 用于算法的数据结构</h3><p><strong>栈</strong></p>
<p>利用 list 的 <code>append()</code> 和 <code>pop()</code> 实现</p>
<pre><code class="python">&gt;&gt;&gt; stack = [3, 4, 5]
&gt;&gt;&gt; stack.append(6)
&gt;&gt;&gt; stack.append(7)
&gt;&gt;&gt; stack
[3, 4, 5, 6, 7]
&gt;&gt;&gt; stack.pop()
7
&gt;&gt;&gt; stack
[3, 4, 5, 6]
&gt;&gt;&gt; stack.pop()
6
&gt;&gt;&gt; stack.pop()
5
&gt;&gt;&gt; stack
[3, 4]
</code></pre>
<p><strong>队列</strong></p>
<p>虽然可以用 list 的 <code>append()</code> 和 <code>pop(0)</code> 来实现队列的功能，但这样效率很低，因为从 list[0] 删除一个元素需要将后面所有的元素向前移动一次。</p>
<p>可以使用 collections.deque，它被设计成可以快速地从两端添加或弹出元素。</p>
<p>利用 deque 的 <code>append()</code> 和 <code>popleft()</code> 实现</p>
<pre><code class="python">&gt;&gt;&gt; from collections import deque
&gt;&gt;&gt; queue = deque([&quot;Eric&quot;, &quot;John&quot;, &quot;Michael&quot;])
&gt;&gt;&gt; queue.append(&quot;Terry&quot;)           # Terry arrives
&gt;&gt;&gt; queue.append(&quot;Graham&quot;)          # Graham arrives
&gt;&gt;&gt; queue.popleft()                 # The first to arrive now leaves
&#39;Eric&#39;
&gt;&gt;&gt; queue.popleft()                 # The second to arrive now leaves
&#39;John&#39;
&gt;&gt;&gt; queue                           # Remaining queue in order of arrival
deque([&#39;Michael&#39;, &#39;Terry&#39;, &#39;Graham&#39;])
</code></pre>
<p><strong>堆</strong></p>
<p><a href="https://docs.python.org/zh-cn/3.8/library/heapq.html#module-heapq" target="_blank" rel="noopener"><code>heapq</code></a> 模块提供了基于常规列表来实现堆的函数。 最小值的条目总是保持在位置零。 这对于需要重复访问最小元素而不希望运行完整列表排序的应用来说非常有用:</p>
<pre><code class="python">&gt;&gt;&gt; from heapq import heapify, heappop, heappush
&gt;&gt;&gt; data = [1, 3, 5, 7, 9, 2, 4, 6, 8, 0]
&gt;&gt;&gt; heapify(data)                      # rearrange the list into heap order
&gt;&gt;&gt; heappush(data, -5)                 # add a new entry
&gt;&gt;&gt; [heappop(data) for i in range(3)]  # fetch the three smallest entries
[-5, 0, 1]
</code></pre>
<h3 id="array"><a href="#array" class="headerlink" title="array"></a>array</h3><p><a href="https://docs.python.org/zh-cn/3.8/library/array.html#module-array" target="_blank" rel="noopener"><code>array</code></a> 模块提供了一种 <a href="https://docs.python.org/zh-cn/3.8/library/array.html#array.array" target="_blank" rel="noopener"><code>array()</code></a> 对象，它类似于列表，但只能存储类型一致的数据且存储密集更高。 </p>
<p>下面的例子演示了一个以两个字节为存储单元的无符号二进制数值的数组 (类型码为 <code>&quot;H&quot;</code>)，而对于普通列表来说，每个条目存储为标准 Python 的 int 对象通常要占用16 个字节:</p>
<pre><code class="python">&gt;&gt;&gt; from array import array
&gt;&gt;&gt; a = array(&#39;H&#39;, [4000, 10, 700, 22222])
&gt;&gt;&gt; sum(a)
26932
&gt;&gt;&gt; a[1:3]
array(&#39;H&#39;, [10, 700])
</code></pre>
<h3 id="表示上次的结果"><a href="#表示上次的结果" class="headerlink" title="_ 表示上次的结果"></a><code>_</code> 表示上次的结果</h3><p>在交互模式下，上次打印出的值被赋值被变量<code>_</code>。</p>
<h3 id="list-sort-与sorted-list"><a href="#list-sort-与sorted-list" class="headerlink" title="list.sort()与sorted(list)"></a>list.sort()与sorted(list)</h3><p>前者改变原始list的顺序，后者返回一个排序好的新的list，不改变原始list</p>
<h3 id="创建空set和空dict"><a href="#创建空set和空dict" class="headerlink" title="创建空set和空dict"></a>创建空set和空dict</h3><p>因为 <code>a={}</code> 创建的是空的dict，而不是空set，</p>
<p>所以分别用 <code>s=set()</code> 和 <code>d=dict()</code> 创建可以避免出错。</p>
<h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><p><code>**</code>比<code>-</code>的优先级更高，所以<code>-3**2</code>等价于<code>-(3**2)</code>，而不是<code>(-3)**2</code>。</p>
<p>条件判断运算符的优先级： not &gt; and &gt; or。所以 <code>A and not B or C</code> 等价于 <code>(A and (not B)) or C</code>。</p>
<h3 id="海象运算符（赋值表达式运算符）"><a href="#海象运算符（赋值表达式运算符）" class="headerlink" title="海象运算符（赋值表达式运算符）"></a>海象运算符（赋值表达式运算符）</h3><p>在表达式中进行赋值需要使用 <code>:=</code> 运算符，例如在 if 语句和 while 语句中，可以防止把 <code>==</code> 误写成 <code>=</code>。</p>
<p>除此之外还有一些其他用法。</p>
<h3 id="常用内置函数"><a href="#常用内置函数" class="headerlink" title="常用内置函数"></a>常用内置函数</h3><p><a href="https://docs.python.org/zh-cn/3.8/library/functions.html" target="_blank" rel="noopener">Python标准库——内置函数</a></p>
<p>查看内置函数：<code>dir(__builtins__)</code></p>
<h4 id="print"><a href="#print" class="headerlink" title="print()"></a>print()</h4><p>print() 接收多个输入的值，中间会用空格分隔。</p>
<h4 id="enumerate"><a href="#enumerate" class="headerlink" title="enumerate()"></a>enumerate()</h4><p>enumerate()以序列的索引进行迭代</p>
<h4 id="sum"><a href="#sum" class="headerlink" title="sum()"></a>sum()</h4><p>可以对 list 求和</p>
<h4 id="sorted"><a href="#sorted" class="headerlink" title="sorted()"></a>sorted()</h4><p>自定义排序</p>
<h4 id="zip"><a href="#zip" class="headerlink" title="zip()"></a>zip()</h4><p>创建一个聚合了来自每个可迭代对象中的元素的迭代器。</p>
<p><a href="https://docs.python.org/zh-cn/3.8/library/functions.html#zip" target="_blank" rel="noopener"><code>zip()</code></a> 与 <code>*</code> 运算符相结合（<code>zip(*zipped)</code>）可以用来拆解一个列表：</p>
<pre><code class="python">&gt;&gt;&gt; x = [1, 2, 3]
&gt;&gt;&gt; y = [4, 5, 6]
&gt;&gt;&gt; zipped = zip(x, y)
&gt;&gt;&gt; list(zipped)
[(1, 4), (2, 5), (3, 6)]
&gt;&gt;&gt; x2, y2 = zip(*zip(x, y))
&gt;&gt;&gt; x == list(x2) and y == list(y2)
True
</code></pre>
<p>注意返回的是一个迭代器，只能被迭代一次：</p>
<pre><code class="python">&gt;&gt;&gt; x = [1, 2, 3]
&gt;&gt;&gt; y = [4, 5, 6]
&gt;&gt;&gt; zipped=zip(x,y)
&gt;&gt;&gt; list(zipped)
[(1, 4), (2, 5), (3, 6)]
&gt;&gt;&gt; list(zipped)
[]
</code></pre>
<h4 id="dir"><a href="#dir" class="headerlink" title="dir()"></a>dir()</h4><p>内置函数 <a href="https://docs.python.org/zh-cn/3.8/library/functions.html#dir" target="_blank" rel="noopener"><code>dir()</code></a> 用于查找模块定义的名称。 它返回一个排序过的字符串列表。</p>
<p>它列出所有类型的名称：变量，模块，函数，等等。</p>
<p><a href="https://docs.python.org/zh-cn/3.8/library/functions.html#dir" target="_blank" rel="noopener"><code>dir()</code></a> 不会列出内置函数和变量的名称。如果你想要这些，它们的定义是在标准模块 <a href="https://docs.python.org/zh-cn/3.8/library/builtins.html#module-builtins" target="_blank" rel="noopener"><code>builtins</code></a> 中:</p>
<pre><code class="python">&gt;&gt;&gt; import builtins
&gt;&gt;&gt; dir(builtins)  
[&#39;ArithmeticError&#39;, &#39;AssertionError&#39;, &#39;AttributeError&#39;, &#39;BaseException&#39;, &#39;BlockingIOError&#39;, &#39;BrokenPipeError&#39;, &#39;BufferError&#39;, &#39;BytesWarning&#39;, &#39;ChildProcessError&#39;, &#39;ConnectionAbortedError&#39;, &#39;ConnectionError&#39;, &#39;ConnectionRefusedError&#39;, &#39;ConnectionResetError&#39;, &#39;DeprecationWarning&#39;, &#39;EOFError&#39;, &#39;Ellipsis&#39;, &#39;EnvironmentError&#39;, &#39;Exception&#39;, &#39;False&#39;, &#39;FileExistsError&#39;, &#39;FileNotFoundError&#39;, &#39;FloatingPointError&#39;, &#39;FutureWarning&#39;, &#39;GeneratorExit&#39;, &#39;IOError&#39;, &#39;ImportError&#39;, &#39;ImportWarning&#39;, &#39;IndentationError&#39;, &#39;IndexError&#39;, &#39;InterruptedError&#39;, &#39;IsADirectoryError&#39;, &#39;KeyError&#39;, &#39;KeyboardInterrupt&#39;, &#39;LookupError&#39;, &#39;MemoryError&#39;, &#39;ModuleNotFoundError&#39;, &#39;NameError&#39;, &#39;None&#39;, &#39;NotADirectoryError&#39;, &#39;NotImplemented&#39;, &#39;NotImplementedError&#39;, &#39;OSError&#39;, &#39;OverflowError&#39;, &#39;PendingDeprecationWarning&#39;, &#39;PermissionError&#39;, &#39;ProcessLookupError&#39;, &#39;RecursionError&#39;, &#39;ReferenceError&#39;, &#39;ResourceWarning&#39;, &#39;RuntimeError&#39;, &#39;RuntimeWarning&#39;, &#39;StopAsyncIteration&#39;, &#39;StopIteration&#39;, &#39;SyntaxError&#39;, &#39;SyntaxWarning&#39;, &#39;SystemError&#39;, &#39;SystemExit&#39;, &#39;TabError&#39;, &#39;TimeoutError&#39;, &#39;True&#39;, &#39;TypeError&#39;, &#39;UnboundLocalError&#39;, &#39;UnicodeDecodeError&#39;, &#39;UnicodeEncodeError&#39;, &#39;UnicodeError&#39;, &#39;UnicodeTranslateError&#39;, &#39;UnicodeWarning&#39;, &#39;UserWarning&#39;, &#39;ValueError&#39;, &#39;Warning&#39;, &#39;ZeroDivisionError&#39;, &#39;_&#39;, &#39;__build_class__&#39;, &#39;__debug__&#39;, &#39;__doc__&#39;, &#39;__import__&#39;, &#39;__loader__&#39;, &#39;__name__&#39;, &#39;__package__&#39;, &#39;__spec__&#39;, &#39;abs&#39;, &#39;all&#39;, &#39;any&#39;, &#39;ascii&#39;, &#39;bin&#39;, &#39;bool&#39;, &#39;breakpoint&#39;, &#39;bytearray&#39;, &#39;bytes&#39;, &#39;callable&#39;, &#39;chr&#39;, &#39;classmethod&#39;, &#39;compile&#39;, &#39;complex&#39;, &#39;copyright&#39;, &#39;credits&#39;, &#39;delattr&#39;, &#39;dict&#39;, &#39;dir&#39;, &#39;divmod&#39;, &#39;enumerate&#39;, &#39;eval&#39;, &#39;exec&#39;, &#39;exit&#39;, &#39;filter&#39;, &#39;float&#39;, &#39;format&#39;, &#39;frozenset&#39;, &#39;getattr&#39;, &#39;globals&#39;, &#39;hasattr&#39;, &#39;hash&#39;, &#39;help&#39;, &#39;hex&#39;, &#39;id&#39;, &#39;input&#39;, &#39;int&#39;, &#39;isinstance&#39;, &#39;issubclass&#39;, &#39;iter&#39;, &#39;len&#39;, &#39;license&#39;, &#39;list&#39;, &#39;locals&#39;, &#39;map&#39;, &#39;max&#39;, &#39;memoryview&#39;, &#39;min&#39;, &#39;next&#39;, &#39;object&#39;, &#39;oct&#39;, &#39;open&#39;, &#39;ord&#39;, &#39;pow&#39;, &#39;print&#39;, &#39;property&#39;, &#39;quit&#39;, &#39;range&#39;, &#39;repr&#39;, &#39;reversed&#39;, &#39;round&#39;, &#39;set&#39;, &#39;setattr&#39;, &#39;slice&#39;, &#39;sorted&#39;, &#39;staticmethod&#39;, &#39;str&#39;, &#39;sum&#39;, &#39;super&#39;, &#39;tuple&#39;, &#39;type&#39;, &#39;vars&#39;, &#39;zip&#39;]
</code></pre>
<h3 id="PEP-8-编码风格"><a href="#PEP-8-编码风格" class="headerlink" title="PEP 8 编码风格"></a>PEP 8 编码风格</h3><p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="noopener">PEP 8</a></p>
<p>要点：</p>
<ul>
<li><p>使用4个空格缩进，不要使用制表符。</p>
<p>  4个空格是一个在小缩进（允许更大的嵌套深度）和大缩进（更容易阅读）的一种很好的折中方案。制表符会引入混乱，最好不要使用它。</p>
</li>
<li><p>换行，使一行不超过79个字符。</p>
<p>  这有助于使用小型显示器的用户，并且可以在较大的显示器上并排放置多个代码文件。</p>
</li>
<li><p>使用空行分隔函数和类，以及函数内的较大的代码块。</p>
</li>
<li><p>如果可能，把注释放到单独的一行。</p>
</li>
<li><p>使用文档字符串。</p>
</li>
<li><p>在运算符前后和逗号后使用空格，但不能直接在括号内使用： <code>a = f(1, 2) + g(3, 4)</code>。</p>
</li>
<li><p>以一致的规则为你的类和函数命名；按照惯例应使用 <code>UpperCamelCase</code> 来命名类，而以 <code>lowercase_with_underscores</code> 来命名函数和方法。 始终应使用 <code>self</code> 来命名第一个方法参数 (有关类和方法的更多信息请参阅 <a href="https://docs.python.org/zh-cn/3.8/tutorial/classes.html#tut-firstclasses" target="_blank" rel="noopener">初探类</a>)。</p>
</li>
<li><p>如果你的代码旨在用于国际环境，请不要使用花哨的编码。Python 默认的 UTF-8 或者纯 ASCII 在任何情况下都能有最好的表现。</p>
</li>
<li><p>同样，哪怕只有很小的可能，遇到说不同语言的人阅读或维护代码，也不要在标识符中使用非ASCII字符。</p>
</li>
</ul>
<h2 id="刷题笔记"><a href="#刷题笔记" class="headerlink" title="刷题笔记"></a>刷题笔记</h2><p>创建重复元素的list：</p>
<pre><code class="python">l = [0] * length
# 而不是 l = [0 * length]
</code></pre>
<hr>
<p>倒序遍历range的结果：</p>
<pre><code class="python"># 首选写法
for i in reversed(range(10)):
# 麻烦写法
for i in range(9, -1, -1):
</code></pre>
<hr>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://docs.python.org/zh-cn/3.8/" target="_blank" rel="noopener">官方文档索引(Python3.8.11)</a></li>
<li><a href="https://docs.python.org/zh-cn/3.8/tutorial/index.html" target="_blank" rel="noopener">官方教程</a></li>
<li><a href="https://docs.python.org/zh-cn/3.8/library/index.html" target="_blank" rel="noopener">官方标准库</a></li>
<li><a href="https://docs.python.org/zh-cn/3.8/library/functions.html" target="_blank" rel="noopener">官方标准库——内置函数</a></li>
<li><a href="https://www.python.org/dev/peps/" target="_blank" rel="noopener">PEP Index</a></li>
<li><a href="https://docs.python.org/zh-cn/3.8/glossary.html#glossary" target="_blank" rel="noopener">术语对照表</a></li>
<li><a href="https://docs.pythontab.com/" target="_blank" rel="noopener">在线手册中心</a></li>
<li><a href="https://docs.pythontab.com/python/python3.5/" target="_blank" rel="noopener">Python3入门指南(官方教程doc版)</a></li>
<li><a href="https://docs.pythontab.com/interpy/" target="_blank" rel="noopener">Python进阶</a></li>
</ol>

      
       
    </div>
</article>





    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: 'e25cb882a9cfd69b0fcf',
            clientSecret: '866a281dc860e73a14108d1a2e93dc2e8302340d',
            repo: 'BlogComments',
            owner: 'AzureLeon1',
            admin: ['AzureLeon1'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2018-2022 Leon Wang
</p>
<!-- <p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p> -->

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'photoSwipe';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("my_custom_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        

        // PhotoSwipe
        $('article').each(function(i){
            $(this).find('img').each(function(){
                if ($(this).closest('figure').hasClass('article-gallery-img')) {
                    return;
                }
                var alt = this.alt;
                $(this)
                    .wrap('<figure class="article-gallery-img" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject"></figure>')
                    .wrap('<a href="' + this.src + '" title="' + alt + '"></a>');
                $(this).after('<div class="img_alt"><span>' + (alt || '') + '</span></div>');
            });
        });

        var pswpElement = document.querySelectorAll('.pswp')[0];
        if (pswpElement) {
            var gallerySelector = '.article-gallery, article';

            var initPhotoSwipeFromDOM = function(gallerySelector) {

                // parse slide data (url, title, size ...) from DOM elements
                // (children of gallerySelector)
                var parseThumbnailElements = function(el) {
                    var thumbElements = $(el).find('figure.article-gallery-img').toArray(),
                        numNodes = thumbElements.length,
                        items = [],
                        figureEl,
                        linkEl,
                        size,
                        imgEl,
                        item;

                    for (var i = 0; i < numNodes; i++) {

                        figureEl = thumbElements[i]; // <figure> element

                        // include only element nodes
                        if (figureEl.nodeType !== 1) {
                            continue;
                        }

                        linkEl = figureEl.children[0]; // <a> element
                        imgEl = linkEl.children[0]; // <img>

                        size = linkEl.getAttribute('data-size');
                        size = size && size.split('x');

                        // create slide object
                        item = {
                            src: linkEl.getAttribute('href'),
                            w: size && parseInt(size[0], 10) || imgEl.width,
                            h: size && parseInt(size[1], 10) || imgEl.height
                        };

                        if (figureEl.children.length > 1) {
                            // <figcaption> content
                            item.title = figureEl.children[1].innerHTML;
                        }

                        if (linkEl.children.length > 0) {
                            // <img> thumbnail element, retrieving thumbnail url
                            item.msrc = linkEl.children[0].getAttribute('src');
                        }

                        item.el = figureEl; // save link to element for getThumbBoundsFn
                        items.push(item);
                    }

                    return items;
                };

                // find nearest parent element
                var closest = function closest(el, fn) {
                    return el && (fn(el) ? el : closest(el.parentNode, fn));
                };

                // triggers when user clicks on thumbnail
                var onThumbnailsClick = function(e) {
                    e = e || window.event;

                    var eTarget = e.target || e.srcElement;

                    // find root element of slide
                    var clickedListItem = closest(eTarget, function(el) {
                        return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                    });

                    if (!clickedListItem) {
                        return;
                    }

                    if (e.preventDefault) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }

                    // find index of clicked item by looping through all child nodes
                    // alternatively, you may define index via data- attribute
                    var clickedGallery = $(clickedListItem).closest(gallerySelector)[0],
                        childNodes = $(clickedGallery).find('figure.article-gallery-img').toArray(),
                        numChildNodes = childNodes.length,
                        nodeIndex = 0,
                        index;

                    for (var i = 0; i < numChildNodes; i++) {
                        if (childNodes[i].nodeType !== 1) {
                            continue;
                        }

                        if (childNodes[i] === clickedListItem) {
                            index = nodeIndex;
                            break;
                        }
                        nodeIndex++;
                    }



                    if (index >= 0) {
                        // open PhotoSwipe if valid index found
                        openPhotoSwipe(index, clickedGallery);
                    }
                    return false;
                };

                // parse picture index and gallery index from URL (#&pid=1&gid=2)
                var photoswipeParseHash = function() {
                    var hash = window.location.hash.substring(1),
                        params = {};

                    if (hash.length < 5) {
                        return params;
                    }

                    var vars = hash.split('&');
                    for (var i = 0; i < vars.length; i++) {
                        if (!vars[i]) {
                            continue;
                        }
                        var pair = vars[i].split('=');
                        if (pair.length < 2) {
                            continue;
                        }
                        params[pair[0]] = pair[1];
                    }

                    if (params.gid) {
                        params.gid = parseInt(params.gid, 10);
                    }

                    return params;
                };

                var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                    var pswpElement = document.querySelectorAll('.pswp')[0],
                        gallery,
                        options,
                        items;

                    items = parseThumbnailElements(galleryElement);

                    // define options (if needed)
                    options = {

                        // define gallery index (for URL)
                        galleryUID: galleryElement.getAttribute('data-pswp-uid'),

                        getThumbBoundsFn: function(index) {
                            // See Options -> getThumbBoundsFn section of documentation for more info
                            var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                                rect = thumbnail.getBoundingClientRect();

                            return {
                                x: rect.left,
                                y: rect.top + pageYScroll,
                                w: rect.width
                            };
                        }
                    };

                    // PhotoSwipe opened from URL
                    if (fromURL) {
                        if (options.galleryPIDs) {
                            // parse real index when custom PIDs are used
                            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url
                            for (var j = 0; j < items.length; j++) {
                                if (items[j].pid == index) {
                                    options.index = j;
                                    break;
                                }
                            }
                        } else {
                            // in URL indexes start from 1
                            options.index = parseInt(index, 10) - 1;
                        }
                    } else {
                        options.index = parseInt(index, 10);
                    }

                    // exit if index not found
                    if (isNaN(options.index)) {
                        return;
                    }

                    if (disableAnimation) {
                        options.showAnimationDuration = 0;
                    }

                    // Pass data to PhotoSwipe and initialize it
                    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);

                    gallery.listen('imageLoadComplete', function(index, item) {
                        var linkEl = item.el.children[0];
                        var img = item.container.children[0];
                        if (!linkEl.getAttribute('data-size')) {
                            linkEl.setAttribute('data-size', img.naturalWidth + 'x' + img.naturalHeight);
                            item.w = img.naturalWidth;
                            item.h = img.naturalHeight;
                            gallery.invalidateCurrItems();
                            gallery.updateSize(true);
                        }
                    });

                    gallery.init();
                };

                // loop through all gallery elements and bind events
                var galleryElements = document.querySelectorAll(gallerySelector);

                for (var i = 0, l = galleryElements.length; i < l; i++) {
                    galleryElements[i].setAttribute('data-pswp-uid', i + 1);
                    galleryElements[i].onclick = onThumbnailsClick;
                }

                // Parse URL and open gallery if it contains #&pid=3&gid=1
                var hashData = photoswipeParseHash();
                if (hashData.pid && hashData.gid) {
                    openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);
                }
            };

            // execute above function
            initPhotoSwipeFromDOM(gallerySelector);
        }
        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 572px;
    }
    .nav.fullscreen {
        margin-left: -572px;
    }
    .nav-left {
        width: 150px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 542px;
        }
        .nav.fullscreen {
            margin-left: -542px;
        }
        .nav-left {
            width: 150px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 542px;
            margin-left: -542px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #d8e8f4;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element, as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
        <!-- don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>






</html>
